(()=>{var Jr=Object.create;var eo=Object.defineProperty;var Zr=Object.getOwnPropertyDescriptor;var Xr=Object.getOwnPropertyNames;var ei=Object.getPrototypeOf,ti=Object.prototype.hasOwnProperty;var A=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var ni=(o,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Xr(e))!ti.call(o,r)&&r!==t&&eo(o,r,{get:()=>e[r],enumerable:!(n=Zr(e,r))||n.enumerable});return o};var to=(o,e,t)=>(t=o!=null?Jr(ei(o)):{},ni(e||!o||!o.__esModule?eo(t,"default",{value:o,enumerable:!0}):t,o));var oo=A((ps,no)=>{no.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Z=A(ae=>{var Gt,oi=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ae.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ae.getSymbolTotalCodewords=function(e){return oi[e]};ae.getBCHDigit=function(o){let e=0;for(;o!==0;)e++,o>>>=1;return e};ae.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Gt=e};ae.isKanjiModeEnabled=function(){return typeof Gt<"u"};ae.toSJIS=function(e){return Gt(e)}});var it=A(j=>{j.L={bit:1};j.M={bit:0};j.Q={bit:3};j.H={bit:2};function ri(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return j.L;case"m":case"medium":return j.M;case"q":case"quartile":return j.Q;case"h":case"high":return j.H;default:throw new Error("Unknown EC Level: "+o)}}j.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};j.from=function(e,t){if(j.isValid(e))return e;try{return ri(e)}catch{return t}}});var ao=A((_s,io)=>{function ro(){this.buffer=[],this.length=0}ro.prototype={get:function(o){let e=Math.floor(o/8);return(this.buffer[e]>>>7-o%8&1)===1},put:function(o,e){for(let t=0;t<e;t++)this.putBit((o>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),o&&(this.buffer[e]|=128>>>this.length%8),this.length++}};io.exports=ro});var lo=A((ys,so)=>{function Le(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}Le.prototype.set=function(o,e,t,n){let r=o*this.size+e;this.data[r]=t,n&&(this.reservedBit[r]=!0)};Le.prototype.get=function(o,e){return this.data[o*this.size+e]};Le.prototype.xor=function(o,e,t){this.data[o*this.size+e]^=t};Le.prototype.isReserved=function(o,e){return this.reservedBit[o*this.size+e]};so.exports=Le});var co=A(at=>{var ii=Z().getSymbolSize;at.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,n=ii(e),r=n===145?26:Math.ceil((n-13)/(2*t-2))*2,i=[n-7];for(let a=1;a<t-1;a++)i[a]=i[a-1]-r;return i.push(6),i.reverse()};at.getPositions=function(e){let t=[],n=at.getRowColCoords(e),r=n.length;for(let i=0;i<r;i++)for(let a=0;a<r;a++)i===0&&a===0||i===0&&a===r-1||i===r-1&&a===0||t.push([n[i],n[a]]);return t}});var fo=A(ho=>{var ai=Z().getSymbolSize,uo=7;ho.getPositions=function(e){let t=ai(e);return[[0,0],[t-uo,0],[0,t-uo]]}});var go=A(I=>{I.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var se={N1:3,N2:3,N3:40,N4:10};I.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};I.from=function(e){return I.isValid(e)?parseInt(e,10):void 0};I.getPenaltyN1=function(e){let t=e.size,n=0,r=0,i=0,a=null,s=null;for(let c=0;c<t;c++){r=i=0,a=s=null;for(let d=0;d<t;d++){let u=e.get(c,d);u===a?r++:(r>=5&&(n+=se.N1+(r-5)),a=u,r=1),u=e.get(d,c),u===s?i++:(i>=5&&(n+=se.N1+(i-5)),s=u,i=1)}r>=5&&(n+=se.N1+(r-5)),i>=5&&(n+=se.N1+(i-5))}return n};I.getPenaltyN2=function(e){let t=e.size,n=0;for(let r=0;r<t-1;r++)for(let i=0;i<t-1;i++){let a=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);(a===4||a===0)&&n++}return n*se.N2};I.getPenaltyN3=function(e){let t=e.size,n=0,r=0,i=0;for(let a=0;a<t;a++){r=i=0;for(let s=0;s<t;s++)r=r<<1&2047|e.get(a,s),s>=10&&(r===1488||r===93)&&n++,i=i<<1&2047|e.get(s,a),s>=10&&(i===1488||i===93)&&n++}return n*se.N3};I.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let i=0;i<n;i++)t+=e.data[i];return Math.abs(Math.ceil(t*100/n/5)-10)*se.N4};function si(o,e,t){switch(o){case I.Patterns.PATTERN000:return(e+t)%2===0;case I.Patterns.PATTERN001:return e%2===0;case I.Patterns.PATTERN010:return t%3===0;case I.Patterns.PATTERN011:return(e+t)%3===0;case I.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case I.Patterns.PATTERN101:return e*t%2+e*t%3===0;case I.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case I.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}I.applyMask=function(e,t){let n=t.size;for(let r=0;r<n;r++)for(let i=0;i<n;i++)t.isReserved(i,r)||t.xor(i,r,si(e,i,r))};I.getBestMask=function(e,t){let n=Object.keys(I.Patterns).length,r=0,i=1/0;for(let a=0;a<n;a++){t(a),I.applyMask(a,e);let s=I.getPenaltyN1(e)+I.getPenaltyN2(e)+I.getPenaltyN3(e)+I.getPenaltyN4(e);I.applyMask(a,e),s<i&&(i=s,r=a)}return r}});var Qt=A(Yt=>{var X=it(),st=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],lt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Yt.getBlocksCount=function(e,t){switch(t){case X.L:return st[(e-1)*4+0];case X.M:return st[(e-1)*4+1];case X.Q:return st[(e-1)*4+2];case X.H:return st[(e-1)*4+3];default:return}};Yt.getTotalCodewordsCount=function(e,t){switch(t){case X.L:return lt[(e-1)*4+0];case X.M:return lt[(e-1)*4+1];case X.Q:return lt[(e-1)*4+2];case X.H:return lt[(e-1)*4+3];default:return}}});var po=A(dt=>{var De=new Uint8Array(512),ct=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)De[t]=e,ct[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)De[t]=De[t-255]})();dt.log=function(e){if(e<1)throw new Error("log("+e+")");return ct[e]};dt.exp=function(e){return De[e]};dt.mul=function(e,t){return e===0||t===0?0:De[ct[e]+ct[t]]}});var mo=A(Be=>{var Jt=po();Be.mul=function(e,t){let n=new Uint8Array(e.length+t.length-1);for(let r=0;r<e.length;r++)for(let i=0;i<t.length;i++)n[r+i]^=Jt.mul(e[r],t[i]);return n};Be.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){let r=n[0];for(let a=0;a<t.length;a++)n[a]^=Jt.mul(t[a],r);let i=0;for(;i<n.length&&n[i]===0;)i++;n=n.slice(i)}return n};Be.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=Be.mul(t,new Uint8Array([1,Jt.exp(n)]));return t}});var yo=A((Rs,_o)=>{var wo=mo();function Zt(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}Zt.prototype.initialize=function(e){this.degree=e,this.genPoly=wo.generateECPolynomial(this.degree)};Zt.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let n=wo.mod(t,this.genPoly),r=this.degree-n.length;if(r>0){let i=new Uint8Array(this.degree);return i.set(n,r),i}return n};_o.exports=Zt});var Xt=A(Eo=>{Eo.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var en=A($=>{var bo="[0-9]+",li="[A-Z $%*+\\-./:]+",Pe="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Pe=Pe.replace(/u/g,"\\u");var ci="(?:(?![A-Z0-9 $%*+\\-./:]|"+Pe+`)(?:.|[\r
]))+`;$.KANJI=new RegExp(Pe,"g");$.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");$.BYTE=new RegExp(ci,"g");$.NUMERIC=new RegExp(bo,"g");$.ALPHANUMERIC=new RegExp(li,"g");var di=new RegExp("^"+Pe+"$"),ui=new RegExp("^"+bo+"$"),hi=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");$.testKanji=function(e){return di.test(e)};$.testNumeric=function(e){return ui.test(e)};$.testAlphanumeric=function(e){return hi.test(e)}});var ee=A(x=>{var fi=Xt(),tn=en();x.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};x.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};x.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};x.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};x.MIXED={bit:-1};x.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!fi.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};x.getBestModeForData=function(e){return tn.testNumeric(e)?x.NUMERIC:tn.testAlphanumeric(e)?x.ALPHANUMERIC:tn.testKanji(e)?x.KANJI:x.BYTE};x.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};x.isValid=function(e){return e&&e.bit&&e.ccBits};function gi(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return x.NUMERIC;case"alphanumeric":return x.ALPHANUMERIC;case"kanji":return x.KANJI;case"byte":return x.BYTE;default:throw new Error("Unknown mode: "+o)}}x.from=function(e,t){if(x.isValid(e))return e;try{return gi(e)}catch{return t}}});var Ro=A(le=>{var ut=Z(),pi=Qt(),So=it(),te=ee(),nn=Xt(),Ao=7973,vo=ut.getBCHDigit(Ao);function mi(o,e,t){for(let n=1;n<=40;n++)if(e<=le.getCapacity(n,t,o))return n}function Mo(o,e){return te.getCharCountIndicator(o,e)+4}function wi(o,e){let t=0;return o.forEach(function(n){let r=Mo(n.mode,e);t+=r+n.getBitsLength()}),t}function _i(o,e){for(let t=1;t<=40;t++)if(wi(o,t)<=le.getCapacity(t,e,te.MIXED))return t}le.from=function(e,t){return nn.isValid(e)?parseInt(e,10):t};le.getCapacity=function(e,t,n){if(!nn.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=te.BYTE);let r=ut.getSymbolTotalCodewords(e),i=pi.getTotalCodewordsCount(e,t),a=(r-i)*8;if(n===te.MIXED)return a;let s=a-Mo(n,e);switch(n){case te.NUMERIC:return Math.floor(s/10*3);case te.ALPHANUMERIC:return Math.floor(s/11*2);case te.KANJI:return Math.floor(s/13);case te.BYTE:default:return Math.floor(s/8)}};le.getBestVersionForData=function(e,t){let n,r=So.from(t,So.M);if(Array.isArray(e)){if(e.length>1)return _i(e,r);if(e.length===0)return 1;n=e[0]}else n=e;return mi(n.mode,n.getLength(),r)};le.getEncodedBits=function(e){if(!nn.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;ut.getBCHDigit(t)-vo>=0;)t^=Ao<<ut.getBCHDigit(t)-vo;return e<<12|t}});var Wo=A(Io=>{var on=Z(),To=1335,yi=21522,Co=on.getBCHDigit(To);Io.getEncodedBits=function(e,t){let n=e.bit<<3|t,r=n<<10;for(;on.getBCHDigit(r)-Co>=0;)r^=To<<on.getBCHDigit(r)-Co;return(n<<10|r)^yi}});var No=A((Ns,Oo)=>{var Ei=ee();function pe(o){this.mode=Ei.NUMERIC,this.data=o.toString()}pe.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};pe.prototype.getLength=function(){return this.data.length};pe.prototype.getBitsLength=function(){return pe.getBitsLength(this.data.length)};pe.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);let i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,i*3+1))};Oo.exports=pe});var Lo=A((xs,xo)=>{var bi=ee(),rn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function me(o){this.mode=bi.ALPHANUMERIC,this.data=o}me.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};me.prototype.getLength=function(){return this.data.length};me.prototype.getBitsLength=function(){return me.getBitsLength(this.data.length)};me.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=rn.indexOf(this.data[t])*45;n+=rn.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(rn.indexOf(this.data[t]),6)};xo.exports=me});var Bo=A((Ls,Do)=>{var Si=ee();function we(o){this.mode=Si.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}we.getBitsLength=function(e){return e*8};we.prototype.getLength=function(){return this.data.length};we.prototype.getBitsLength=function(){return we.getBitsLength(this.data.length)};we.prototype.write=function(o){for(let e=0,t=this.data.length;e<t;e++)o.put(this.data[e],8)};Do.exports=we});var zo=A((Ds,Po)=>{var vi=ee(),Ai=Z();function _e(o){this.mode=vi.KANJI,this.data=o}_e.getBitsLength=function(e){return e*13};_e.prototype.getLength=function(){return this.data.length};_e.prototype.getBitsLength=function(){return _e.getBitsLength(this.data.length)};_e.prototype.write=function(o){let e;for(e=0;e<this.data.length;e++){let t=Ai.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),o.put(t,13)}};Po.exports=_e});var ko=A((Bs,an)=>{"use strict";var ze={single_source_shortest_paths:function(o,e,t){var n={},r={};r[e]=0;var i=ze.PriorityQueue.make();i.push(e,0);for(var a,s,c,d,u,_,f,g,C;!i.empty();){a=i.pop(),s=a.value,d=a.cost,u=o[s]||{};for(c in u)u.hasOwnProperty(c)&&(_=u[c],f=d+_,g=r[c],C=typeof r[c]>"u",(C||g>f)&&(r[c]=f,i.push(c,f),n[c]=s))}if(typeof t<"u"&&typeof r[t]>"u"){var S=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(S)}return n},extract_shortest_path_from_predecessor_list:function(o,e){for(var t=[],n=e,r;n;)t.push(n),r=o[n],n=o[n];return t.reverse(),t},find_path:function(o,e,t){var n=ze.single_source_shortest_paths(o,e,t);return ze.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(o){var e=ze.PriorityQueue,t={},n;o=o||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=o.sorter||e.default_sorter,t},default_sorter:function(o,e){return o.cost-e.cost},push:function(o,e){var t={value:o,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof an<"u"&&(an.exports=ze)});var $o=A(ye=>{var M=ee(),jo=No(),qo=Lo(),Ko=Bo(),Vo=zo(),ke=en(),ht=Z(),Mi=ko();function Uo(o){return unescape(encodeURIComponent(o)).length}function Ue(o,e,t){let n=[],r;for(;(r=o.exec(t))!==null;)n.push({data:r[0],index:r.index,mode:e,length:r[0].length});return n}function Ho(o){let e=Ue(ke.NUMERIC,M.NUMERIC,o),t=Ue(ke.ALPHANUMERIC,M.ALPHANUMERIC,o),n,r;return ht.isKanjiModeEnabled()?(n=Ue(ke.BYTE,M.BYTE,o),r=Ue(ke.KANJI,M.KANJI,o)):(n=Ue(ke.BYTE_KANJI,M.BYTE,o),r=[]),e.concat(t,n,r).sort(function(a,s){return a.index-s.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function sn(o,e){switch(e){case M.NUMERIC:return jo.getBitsLength(o);case M.ALPHANUMERIC:return qo.getBitsLength(o);case M.KANJI:return Vo.getBitsLength(o);case M.BYTE:return Ko.getBitsLength(o)}}function Ri(o){return o.reduce(function(e,t){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function Ci(o){let e=[];for(let t=0;t<o.length;t++){let n=o[t];switch(n.mode){case M.NUMERIC:e.push([n,{data:n.data,mode:M.ALPHANUMERIC,length:n.length},{data:n.data,mode:M.BYTE,length:n.length}]);break;case M.ALPHANUMERIC:e.push([n,{data:n.data,mode:M.BYTE,length:n.length}]);break;case M.KANJI:e.push([n,{data:n.data,mode:M.BYTE,length:Uo(n.data)}]);break;case M.BYTE:e.push([{data:n.data,mode:M.BYTE,length:Uo(n.data)}])}}return e}function Ti(o,e){let t={},n={start:{}},r=["start"];for(let i=0;i<o.length;i++){let a=o[i],s=[];for(let c=0;c<a.length;c++){let d=a[c],u=""+i+c;s.push(u),t[u]={node:d,lastCount:0},n[u]={};for(let _=0;_<r.length;_++){let f=r[_];t[f]&&t[f].node.mode===d.mode?(n[f][u]=sn(t[f].lastCount+d.length,d.mode)-sn(t[f].lastCount,d.mode),t[f].lastCount+=d.length):(t[f]&&(t[f].lastCount=d.length),n[f][u]=sn(d.length,d.mode)+4+M.getCharCountIndicator(d.mode,e))}}r=s}for(let i=0;i<r.length;i++)n[r[i]].end=0;return{map:n,table:t}}function Fo(o,e){let t,n=M.getBestModeForData(o);if(t=M.from(e,n),t!==M.BYTE&&t.bit<n.bit)throw new Error('"'+o+'" cannot be encoded with mode '+M.toString(t)+`.
 Suggested mode is: `+M.toString(n));switch(t===M.KANJI&&!ht.isKanjiModeEnabled()&&(t=M.BYTE),t){case M.NUMERIC:return new jo(o);case M.ALPHANUMERIC:return new qo(o);case M.KANJI:return new Vo(o);case M.BYTE:return new Ko(o)}}ye.fromArray=function(e){return e.reduce(function(t,n){return typeof n=="string"?t.push(Fo(n,null)):n.data&&t.push(Fo(n.data,n.mode)),t},[])};ye.fromString=function(e,t){let n=Ho(e,ht.isKanjiModeEnabled()),r=Ci(n),i=Ti(r,t),a=Mi.find_path(i.map,"start","end"),s=[];for(let c=1;c<a.length-1;c++)s.push(i.table[a[c]].node);return ye.fromArray(Ri(s))};ye.rawSplit=function(e){return ye.fromArray(Ho(e,ht.isKanjiModeEnabled()))}});var Yo=A(Go=>{var gt=Z(),ln=it(),Ii=ao(),Wi=lo(),Oi=co(),Ni=fo(),un=go(),hn=Qt(),xi=yo(),ft=Ro(),Li=Wo(),Di=ee(),cn=$o();function Bi(o,e){let t=o.size,n=Ni.getPositions(e);for(let r=0;r<n.length;r++){let i=n[r][0],a=n[r][1];for(let s=-1;s<=7;s++)if(!(i+s<=-1||t<=i+s))for(let c=-1;c<=7;c++)a+c<=-1||t<=a+c||(s>=0&&s<=6&&(c===0||c===6)||c>=0&&c<=6&&(s===0||s===6)||s>=2&&s<=4&&c>=2&&c<=4?o.set(i+s,a+c,!0,!0):o.set(i+s,a+c,!1,!0))}}function Pi(o){let e=o.size;for(let t=8;t<e-8;t++){let n=t%2===0;o.set(t,6,n,!0),o.set(6,t,n,!0)}}function zi(o,e){let t=Oi.getPositions(e);for(let n=0;n<t.length;n++){let r=t[n][0],i=t[n][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?o.set(r+a,i+s,!0,!0):o.set(r+a,i+s,!1,!0)}}function ki(o,e){let t=o.size,n=ft.getEncodedBits(e),r,i,a;for(let s=0;s<18;s++)r=Math.floor(s/3),i=s%3+t-8-3,a=(n>>s&1)===1,o.set(r,i,a,!0),o.set(i,r,a,!0)}function dn(o,e,t){let n=o.size,r=Li.getEncodedBits(e,t),i,a;for(i=0;i<15;i++)a=(r>>i&1)===1,i<6?o.set(i,8,a,!0):i<8?o.set(i+1,8,a,!0):o.set(n-15+i,8,a,!0),i<8?o.set(8,n-i-1,a,!0):i<9?o.set(8,15-i-1+1,a,!0):o.set(8,15-i-1,a,!0);o.set(n-8,8,1,!0)}function Ui(o,e){let t=o.size,n=-1,r=t-1,i=7,a=0;for(let s=t-1;s>0;s-=2)for(s===6&&s--;;){for(let c=0;c<2;c++)if(!o.isReserved(r,s-c)){let d=!1;a<e.length&&(d=(e[a]>>>i&1)===1),o.set(r,s-c,d),i--,i===-1&&(a++,i=7)}if(r+=n,r<0||t<=r){r-=n,n=-n;break}}}function Fi(o,e,t){let n=new Ii;t.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),Di.getCharCountIndicator(c.mode,o)),c.write(n)});let r=gt.getSymbolTotalCodewords(o),i=hn.getTotalCodewordsCount(o,e),a=(r-i)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let s=(a-n.getLengthInBits())/8;for(let c=0;c<s;c++)n.put(c%2?17:236,8);return ji(n,o,e)}function ji(o,e,t){let n=gt.getSymbolTotalCodewords(e),r=hn.getTotalCodewordsCount(e,t),i=n-r,a=hn.getBlocksCount(e,t),s=n%a,c=a-s,d=Math.floor(n/a),u=Math.floor(i/a),_=u+1,f=d-u,g=new xi(f),C=0,S=new Array(a),W=new Array(a),T=0,O=new Uint8Array(o.buffer);for(let p=0;p<a;p++){let E=p<c?u:_;S[p]=O.slice(C,C+E),W[p]=g.encode(S[p]),C+=E,T=Math.max(T,E)}let L=new Uint8Array(n),v=0,b,y;for(b=0;b<T;b++)for(y=0;y<a;y++)b<S[y].length&&(L[v++]=S[y][b]);for(b=0;b<f;b++)for(y=0;y<a;y++)L[v++]=W[y][b];return L}function qi(o,e,t,n){let r;if(Array.isArray(o))r=cn.fromArray(o);else if(typeof o=="string"){let d=e;if(!d){let u=cn.rawSplit(o);d=ft.getBestVersionForData(u,t)}r=cn.fromString(o,d||40)}else throw new Error("Invalid data");let i=ft.getBestVersionForData(r,t);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);let a=Fi(e,t,r),s=gt.getSymbolSize(e),c=new Wi(s);return Bi(c,e),Pi(c),zi(c,e),dn(c,t,0),e>=7&&ki(c,e),Ui(c,a),isNaN(n)&&(n=un.getBestMask(c,dn.bind(null,c,t))),un.applyMask(n,c),dn(c,t,n),{modules:c,version:e,errorCorrectionLevel:t,maskPattern:n,segments:r}}Go.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=ln.M,r,i;return typeof t<"u"&&(n=ln.from(t.errorCorrectionLevel,ln.M),r=ft.from(t.version),i=un.from(t.maskPattern),t.toSJISFunc&&gt.setToSJISFunction(t.toSJISFunc)),qi(e,r,n,i)}});var fn=A(ce=>{function Qo(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let e=o.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+o);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}ce.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:n,scale:n?4:r,margin:t,color:{dark:Qo(e.color.dark||"#000000ff"),light:Qo(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};ce.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};ce.getImageWidth=function(e,t){let n=ce.getScale(e,t);return Math.floor((e+t.margin*2)*n)};ce.qrToImageData=function(e,t,n){let r=t.modules.size,i=t.modules.data,a=ce.getScale(r,n),s=Math.floor((r+n.margin*2)*a),c=n.margin*a,d=[n.color.light,n.color.dark];for(let u=0;u<s;u++)for(let _=0;_<s;_++){let f=(u*s+_)*4,g=n.color.light;if(u>=c&&_>=c&&u<s-c&&_<s-c){let C=Math.floor((u-c)/a),S=Math.floor((_-c)/a);g=d[i[C*r+S]?1:0]}e[f++]=g.r,e[f++]=g.g,e[f++]=g.b,e[f]=g.a}}});var Jo=A(pt=>{var gn=fn();function Ki(o,e,t){o.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function Vi(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}pt.render=function(e,t,n){let r=n,i=t;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),t||(i=Vi()),r=gn.getOptions(r);let a=gn.getImageWidth(e.modules.size,r),s=i.getContext("2d"),c=s.createImageData(a,a);return gn.qrToImageData(c.data,e,r),Ki(s,i,a),s.putImageData(c,0,0),i};pt.renderToDataURL=function(e,t,n){let r=n;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),r||(r={});let i=pt.render(e,t,r),a=r.type||"image/png",s=r.rendererOpts||{};return i.toDataURL(a,s.quality)}});var er=A(Xo=>{var Hi=fn();function Zo(o,e){let t=o.a/255,n=e+'="'+o.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function pn(o,e,t){let n=o+e;return typeof t<"u"&&(n+=" "+t),n}function $i(o,e,t){let n="",r=0,i=!1,a=0;for(let s=0;s<o.length;s++){let c=Math.floor(s%e),d=Math.floor(s/e);!c&&!i&&(i=!0),o[s]?(a++,s>0&&c>0&&o[s-1]||(n+=i?pn("M",c+t,.5+d+t):pn("m",r,0),r=0,i=!1),c+1<e&&o[s+1]||(n+=pn("h",a),a=0)):r++}return n}Xo.render=function(e,t,n){let r=Hi.getOptions(t),i=e.modules.size,a=e.modules.data,s=i+r.margin*2,c=r.color.light.a?"<path "+Zo(r.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",d="<path "+Zo(r.color.dark,"stroke")+' d="'+$i(a,i,r.margin)+'"/>',u='viewBox="0 0 '+s+" "+s+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof n=="function"&&n(null,f),f}});var nr=A(Fe=>{var Gi=oo(),mn=Yo(),tr=Jo(),Yi=er();function wn(o,e,t,n,r){let i=[].slice.call(arguments,1),a=i.length,s=typeof i[a-1]=="function";if(!s&&!Gi())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(r=t,t=e,e=n=void 0):a===3&&(e.getContext&&typeof r>"u"?(r=n,n=void 0):(r=n,n=t,t=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(t=e,e=n=void 0):a===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(c,d){try{let u=mn.create(t,n);c(o(u,e,n))}catch(u){d(u)}})}try{let c=mn.create(t,n);r(null,o(c,e,n))}catch(c){r(c)}}Fe.create=mn.create;Fe.toCanvas=wn.bind(null,tr.render);Fe.toDataURL=wn.bind(null,tr.renderToDataURL);Fe.toString=wn.bind(null,function(o,e,t){return Yi.render(o,t)})});var Cr=A((il,Rr)=>{"use strict";function Da(o){if(o.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<o.length;n++){var r=o.charAt(n),i=r.charCodeAt(0);if(e[i]!==255)throw new TypeError(r+" is ambiguous");e[i]=n}var a=o.length,s=o.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var C=0,S=0,W=0,T=g.length;W!==T&&g[W]===0;)W++,C++;for(var O=(T-W)*d+1>>>0,L=new Uint8Array(O);W!==T;){for(var v=g[W],b=0,y=O-1;(v!==0||b<S)&&y!==-1;y--,b++)v+=256*L[y]>>>0,L[y]=v%a>>>0,v=v/a>>>0;if(v!==0)throw new Error("Non-zero carry");S=b,W++}for(var p=O-S;p!==O&&L[p]===0;)p++;for(var E=s.repeat(C);p<O;++p)E+=o.charAt(L[p]);return E}function _(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;for(var C=0,S=0,W=0;g[C]===s;)S++,C++;for(var T=(g.length-C)*c+1>>>0,O=new Uint8Array(T);g[C];){var L=g.charCodeAt(C);if(L>255)return;var v=e[L];if(v===255)return;for(var b=0,y=T-1;(v!==0||b<W)&&y!==-1;y--,b++)v+=a*O[y]>>>0,O[y]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");W=b,C++}for(var p=T-W;p!==T&&O[p]===0;)p++;for(var E=new Uint8Array(S+(T-p)),N=S;p!==T;)E[N++]=O[p++];return E}function f(g){var C=_(g);if(C)return C;throw new Error("Non-base"+a+" character")}return{encode:u,decodeUnsafe:_,decode:f}}Rr.exports=Da});var Ir=A((al,Tr)=>{var Ba=Cr(),Pa="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Tr.exports=Ba(Pa)});var Q="solana:signAndSendTransaction";var ot="solana:signIn";var rt="solana:signMessage";var J="solana:signTransaction";var Or=to(nr(),1);var _n="solana:mainnet";var Qi="(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n",Ji="(?<address>[^\\n]+)(?:\\n|$)",Zi="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??",Xi="(?:\\nURI: (?<uri>[^\\n]+))?",ea="(?:\\nVersion: (?<version>[^\\n]+))?",ta="(?:\\nChain ID: (?<chainId>[^\\n]+))?",na="(?:\\nNonce: (?<nonce>[^\\n]+))?",oa="(?:\\nIssued At: (?<issuedAt>[^\\n]+))?",ra="(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?",ia="(?:\\nNot Before: (?<notBefore>[^\\n]+))?",aa="(?:\\nRequest ID: (?<requestId>[^\\n]+))?",sa="(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?",la=`${Xi}${ea}${ta}${na}${oa}${ra}${ia}${aa}${sa}`,Ks=new RegExp(`^${Qi}${Ji}${Zi}${la}\\n*$`);function or(o){let e=`${o.domain} wants you to sign in with your Solana account:
`;e+=`${o.address}`,o.statement&&(e+=`

${o.statement}`);let t=[];if(o.uri&&t.push(`URI: ${o.uri}`),o.version&&t.push(`Version: ${o.version}`),o.chainId&&t.push(`Chain ID: ${o.chainId}`),o.nonce&&t.push(`Nonce: ${o.nonce}`),o.issuedAt&&t.push(`Issued At: ${o.issuedAt}`),o.expirationTime&&t.push(`Expiration Time: ${o.expirationTime}`),o.notBefore&&t.push(`Not Before: ${o.notBefore}`),o.requestId&&t.push(`Request ID: ${o.requestId}`),o.resources){t.push("Resources:");for(let n of o.resources)t.push(`- ${n}`)}return t.length&&(e+=`

${t.join(`
`)}`),e}function rr(o){return Object.freeze({...o,decode:(e,t=0)=>o.read(e,t)[0]})}var ca=o=>rr({read(e,t){let n=t===0?e:e.slice(t);if(n.length===0)return["",0];let r=n.findIndex(c=>c!==0);r=r===-1?n.length:r;let i=o[0].repeat(r);if(r===n.length)return[i,e.length];let a=n.slice(r).reduce((c,d)=>c*256n+BigInt(d),0n),s=da(a,o);return[i+s,e.length]}});function da(o,e){let t=BigInt(e.length),n=[];for(;o>0n;)n.unshift(e[Number(o%t)]),o/=t;return n.join("")}var ua="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var ir=()=>ca(ua);var Qs=globalThis.TextDecoder,Js=globalThis.TextEncoder;var q={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"},U=class extends Error{constructor(...e){let[t,n,r]=e;super(n),this.code=t,this.data=r,this.name="SolanaMobileWalletAdapterError"}};var qe=class extends Error{constructor(...e){let[t,n,r,i]=e;super(r),this.code=n,this.data=i,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}};function R(o,e,t,n){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{d(n.next(u))}catch(_){a(_)}}function c(u){try{d(n.throw(u))}catch(_){a(_)}}function d(u){u.done?i(u.value):r(u.value).then(s,c)}d((n=n.apply(o,e||[])).next())})}function ha(o){return window.btoa(o)}function Ke(o,e){let t=window.btoa(String.fromCharCode.call(null,...o));return e?t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):t}function bn(o){return new Uint8Array(window.atob(o).split("").map(e=>e.charCodeAt(0)))}function mt(o,e){return R(this,void 0,void 0,function*(){let t=yield crypto.subtle.exportKey("raw",o),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,t),r=new Uint8Array(t.byteLength+n.byteLength);return r.set(new Uint8Array(t),0),r.set(new Uint8Array(n),t.byteLength),r})}function fa(o){return or(o)}function ga(o){return ha(fa(o)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}var pa="solana:signTransactions",ar="solana:cloneAuthorization";function ma(o){return ir().decode(o)}function wa(o){return ma(bn(o))}function cr(o,e){return new Proxy({},{get(t,n){return n==="then"?null:(t[n]==null&&(t[n]=function(r){return R(this,void 0,void 0,function*(){let{method:i,params:a}=_a(n,r,o),s=yield e(i,a);return i==="authorize"&&a.sign_in_payload&&!s.sign_in_result&&(s.sign_in_result=yield Ea(a.sign_in_payload,s,e)),ya(n,s,o)})}),t[n])},defineProperty(){return!1},deleteProperty(){return!1}})}function _a(o,e,t){let n=e,r=o.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(o){case"authorize":{let{chain:i}=n;if(t==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=n.cluster}n.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}n.chain=i}}case"reauthorize":{let{auth_token:i,identity:a}=n;if(i)switch(t){case"legacy":{r="reauthorize",n={auth_token:i,identity:a};break}default:{r="authorize";break}}break}}return{method:r,params:n}}function ya(o,e,t){switch(o){case"getCapabilities":{let n=e;switch(t){case"legacy":{let r=[pa];return n.supports_clone_authorization===!0&&r.push(ar),Object.assign(Object.assign({},n),{features:r})}case"v1":return Object.assign(Object.assign({},n),{supports_sign_and_send_transactions:!0,supports_clone_authorization:n.features.includes(ar)})}}}return e}function Ea(o,e,t){var n;return R(this,void 0,void 0,function*(){let r=(n=o.domain)!==null&&n!==void 0?n:window.location.host,i=e.accounts[0].address,a=ga(Object.assign(Object.assign({},o),{domain:r,address:wa(i)})),s=yield t("sign_messages",{addresses:[i],payloads:[a]}),c=bn(s.signed_payloads[0]),d=Ke(c.slice(0,c.length-64)),u=Ke(c.slice(c.length-64));return{address:i,signed_message:d.length==0?a:d,signature:u}})}var G=4;function ba(o){if(o>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");let e=new ArrayBuffer(G);return new DataView(e).setUint32(0,o,!1),new Uint8Array(e)}var En=12,Sn=65;function Sa(o,e,t){return R(this,void 0,void 0,function*(){let n=ba(e),r=new Uint8Array(En);crypto.getRandomValues(r);let i=yield crypto.subtle.encrypt(ur(n,r),t,new TextEncoder().encode(o)),a=new Uint8Array(n.byteLength+r.byteLength+i.byteLength);return a.set(new Uint8Array(n),0),a.set(new Uint8Array(r),n.byteLength),a.set(new Uint8Array(i),n.byteLength+r.byteLength),a})}function dr(o,e){return R(this,void 0,void 0,function*(){let t=o.slice(0,G),n=o.slice(G,G+En),r=o.slice(G+En),i=yield crypto.subtle.decrypt(ur(t,n),e,r);return va().decode(i)})}function ur(o,e){return{additionalData:o,iv:e,name:"AES-GCM",tagLength:128}}var yn;function va(){return yn===void 0&&(yn=new TextDecoder("utf-8")),yn}function hr(){return R(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function wt(){return R(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function fr(o){let e="",t=new Uint8Array(o),n=t.byteLength;for(let r=0;r<n;r++)e+=String.fromCharCode(t[r]);return window.btoa(e)}function Aa(){return gr(49152+Math.floor(Math.random()*16384))}function gr(o){if(o<49152||o>65535)throw new U(q.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${o} given.`,{port:o});return o}function pr(o){return o.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}var Ma="solana-wallet";function sr(o){return o.replace(/(^\/+|\/+$)/g,"").split("/")}function mr(o,e){let t=null;if(e){try{t=new URL(e)}catch{}if(t?.protocol!=="https:")throw new U(q.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}t||(t=new URL(`${Ma}:/`));let n=o.startsWith("/")?o:[...sr(t.pathname),...sr(o)].join("/");return new URL(n,t)}function Ra(o,e,t,n=["v1"]){return R(this,void 0,void 0,function*(){let r=gr(e),i=yield crypto.subtle.exportKey("raw",o),a=fr(i),s=mr("v1/associate/local",t);return s.searchParams.set("association",pr(a)),s.searchParams.set("port",`${r}`),n.forEach(c=>{s.searchParams.set("v",c)}),s})}function Ca(o,e,t,n,r=["v1"]){return R(this,void 0,void 0,function*(){let i=yield crypto.subtle.exportKey("raw",o),a=fr(i),s=mr("v1/associate/remote",n);return s.searchParams.set("association",pr(a)),s.searchParams.set("reflector",`${e}`),s.searchParams.set("id",`${Ke(t,!0)}`),r.forEach(c=>{s.searchParams.set("v",c)}),s})}function wr(o,e){return R(this,void 0,void 0,function*(){let t=JSON.stringify(o),n=o.id;return Sa(t,n,e)})}function _r(o,e){return R(this,void 0,void 0,function*(){let t=yield dr(o,e),n=JSON.parse(t);if(Object.hasOwnProperty.call(n,"error"))throw new qe(n.id,n.error.code,n.error.message);return n})}function yr(o,e,t){return R(this,void 0,void 0,function*(){let[n,r]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",o.slice(0,Sn),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:r},t,256),a=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},a,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function Er(o,e){return R(this,void 0,void 0,function*(){let t=yield dr(o,e),n=JSON.parse(t),r="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":r="v1";break;case"legacy":r="legacy";break;default:throw new U(q.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:r}})}var _t={Firefox:0,Other:1};function Ta(){return navigator.userAgent.indexOf("Firefox/")!==-1?_t.Firefox:_t.Other}function Ia(){return new Promise((o,e)=>{function t(){clearTimeout(r),window.removeEventListener("blur",n)}function n(){t(),o()}window.addEventListener("blur",n);let r=setTimeout(()=>{t(),e()},3e3)})}var je=null;function Wa(o){je==null&&(je=document.createElement("iframe"),je.style.display="none",document.body.appendChild(je)),je.contentWindow.location.href=o.toString()}function Oa(o){return R(this,void 0,void 0,function*(){if(o.protocol==="https:")window.location.assign(o);else try{let e=Ta();switch(e){case _t.Firefox:Wa(o);break;case _t.Other:{let t=Ia();window.location.assign(o),yield t;break}default:}}catch{throw new U(q.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function Na(o,e){return R(this,void 0,void 0,function*(){let t=Aa(),n=yield Ra(o,t,e);return yield Oa(n),t})}var yt={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},br="com.solana.mobilewalletadapter.v1",lr="com.solana.mobilewalletadapter.v1.base64";function Sr(){if(typeof window>"u"||window.isSecureContext!==!0)throw new U(q.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function vr(o){let e;try{e=new URL(o)}catch{throw new U(q.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new U(q.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Et(o){return new DataView(o).getUint32(0,!1)}function xa(o){var e=new Uint8Array(o),t=o.byteLength,n=10,r=0,i=0,a;do{if(i>=t||i>n)throw new RangeError("Failed to decode varint");a=e[i++],r|=(a&127)<<7*i}while(a>=128);return{value:r,offset:i}}function La(o){let{value:e,offset:t}=xa(o);return new Uint8Array(o.slice(t,t+e))}function Ar(o,e){return R(this,void 0,void 0,function*(){Sr();let t=yield hr(),r=`ws://localhost:${yield Na(t.publicKey,e?.baseUri)}/solana-wallet`,i,a=(()=>{let u=[...yt.retryDelayScheduleMs];return()=>u.length>1?u.shift():u[0]})(),s=1,c=0,d={__type:"disconnected"};return new Promise((u,_)=>{let f,g={},C=()=>R(this,void 0,void 0,function*(){if(d.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${d.__type}\`.`);return}f.removeEventListener("open",C);let{associationKeypair:b}=d,y=yield wt();f.send(yield mt(y.publicKey,b.privateKey)),d={__type:"hello_req_sent",associationPublicKey:b.publicKey,ecdhPrivateKey:y.privateKey}}),S=b=>{b.wasClean?d={__type:"disconnected"}:_(new U(q.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${b.code}: ${b.reason}).`,{closeEvent:b})),O()},W=b=>R(this,void 0,void 0,function*(){O(),Date.now()-i>=yt.timeoutMs?_(new U(q.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${r}.`)):(yield new Promise(y=>{let p=a();L=window.setTimeout(y,p)}),v())}),T=b=>R(this,void 0,void 0,function*(){let y=yield b.data.arrayBuffer();switch(d.__type){case"connecting":if(y.byteLength!==0)throw new Error("Encountered unexpected message while connecting");let p=yield wt();f.send(yield mt(p.publicKey,t.privateKey)),d={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:p.privateKey};break;case"connected":try{let E=y.slice(0,G),N=Et(E);if(N!==c+1)throw new Error("Encrypted message has invalid sequence number");c=N;let F=yield _r(y,d.sharedSecret),V=g[F.id];delete g[F.id],V.resolve(F.result)}catch(E){if(E instanceof qe){let N=g[E.jsonRpcMessageId];delete g[E.jsonRpcMessageId],N.reject(E)}else throw E}break;case"hello_req_sent":{if(y.byteLength===0){let B=yield wt();f.send(yield mt(B.publicKey,t.privateKey)),d={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:B.privateKey};break}let E=yield yr(y,d.associationPublicKey,d.ecdhPrivateKey),N=y.slice(Sn),F=N.byteLength!==0?yield R(this,void 0,void 0,function*(){let B=N.slice(0,G),H=Et(B);if(H!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=H,Er(N,E)}):{protocol_version:"legacy"};d={__type:"connected",sharedSecret:E,sessionProperties:F};let V=cr(F.protocol_version,(B,H)=>R(this,void 0,void 0,function*(){let We=s++;return f.send(yield wr({id:We,jsonrpc:"2.0",method:B,params:H??{}},E)),new Promise((Ht,Oe)=>{g[We]={resolve(Ne){switch(B){case"authorize":case"reauthorize":{let{wallet_uri_base:xe}=Ne;if(xe!=null)try{vr(xe)}catch($t){Oe($t);return}break}}Ht(Ne)},reject:Oe}})}));try{u(yield o(V))}catch(B){_(B)}finally{O(),f.close()}break}}}),O,L,v=()=>{O&&O(),d={__type:"connecting",associationKeypair:t},i===void 0&&(i=Date.now()),f=new WebSocket(r,[br]),f.addEventListener("open",C),f.addEventListener("close",S),f.addEventListener("error",W),f.addEventListener("message",T),O=()=>{window.clearTimeout(L),f.removeEventListener("open",C),f.removeEventListener("close",S),f.removeEventListener("error",W),f.removeEventListener("message",T)}};v()})})}function Mr(o){return R(this,void 0,void 0,function*(){Sr();let e=yield hr(),t=`wss://${o?.remoteHostAuthority}/reflect`,n,r=(()=>{let S=[...yt.retryDelayScheduleMs];return()=>S.length>1?S.shift():S[0]})(),i=1,a=0,s,c={__type:"disconnected"},d,u,_=S=>R(this,void 0,void 0,function*(){if(s=="base64"){let W=yield S.data;return bn(W).buffer}else return yield S.data.arrayBuffer()}),f=yield new Promise((S,W)=>{let T=()=>R(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}d.protocol.includes(lr)?s="base64":s="binary",d.removeEventListener("open",T)}),O=p=>{p.wasClean?c={__type:"disconnected"}:W(new U(q.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${p.code}: ${p.reason}).`,{closeEvent:p})),u()},L=p=>R(this,void 0,void 0,function*(){u(),Date.now()-n>=yt.timeoutMs?W(new U(q.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${t}.`)):(yield new Promise(E=>{let N=r();b=window.setTimeout(E,N)}),y())}),v=p=>R(this,void 0,void 0,function*(){let E=yield _(p);if(c.__type==="connecting"){if(E.byteLength==0)throw new Error("Encountered unexpected message while connecting");let N=La(E);c={__type:"reflector_id_received",reflectorId:N};let F=yield Ca(e.publicKey,o.remoteHostAuthority,N,o?.baseUri);d.removeEventListener("message",v),S(F)}}),b,y=()=>{u&&u(),c={__type:"connecting",associationKeypair:e},n===void 0&&(n=Date.now()),d=new WebSocket(t,[br,lr]),d.addEventListener("open",T),d.addEventListener("close",O),d.addEventListener("error",L),d.addEventListener("message",v),u=()=>{window.clearTimeout(b),d.removeEventListener("open",T),d.removeEventListener("close",O),d.removeEventListener("error",L),d.removeEventListener("message",v)}};y()}),g=!1,C;return{associationUrl:f,close:()=>{d.close(),C()},wallet:new Promise((S,W)=>{let T={},O=L=>R(this,void 0,void 0,function*(){let v=yield _(L);switch(c.__type){case"reflector_id_received":if(v.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");let b=yield wt(),y=yield mt(b.publicKey,e.privateKey);s=="base64"?d.send(Ke(y)):d.send(y),c={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:b.privateKey};break;case"connected":try{let p=v.slice(0,G),E=Et(p);if(E!==a+1)throw new Error("Encrypted message has invalid sequence number");a=E;let N=yield _r(v,c.sharedSecret),F=T[N.id];delete T[N.id],F.resolve(N.result)}catch(p){if(p instanceof qe){let E=T[p.jsonRpcMessageId];delete T[p.jsonRpcMessageId],E.reject(p)}else throw p}break;case"hello_req_sent":{let p=yield yr(v,c.associationPublicKey,c.ecdhPrivateKey),E=v.slice(Sn),N=E.byteLength!==0?yield R(this,void 0,void 0,function*(){let V=E.slice(0,G),B=Et(V);if(B!==a+1)throw new Error("Encrypted message has invalid sequence number");return a=B,Er(E,p)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:p,sessionProperties:N};let F=cr(N.protocol_version,(V,B)=>R(this,void 0,void 0,function*(){let H=i++,We=yield wr({id:H,jsonrpc:"2.0",method:V,params:B??{}},p);return s=="base64"?d.send(Ke(We)):d.send(We),new Promise((Ht,Oe)=>{T[H]={resolve(Ne){switch(V){case"authorize":case"reauthorize":{let{wallet_uri_base:xe}=Ne;if(xe!=null)try{vr(xe)}catch($t){Oe($t);return}break}}Ht(Ne)},reject:Oe}})}));g=!0;try{S(F)}catch(V){W(V)}break}}});d.addEventListener("message",O),C=()=>{d.removeEventListener("message",O),u(),g||W(new U(q.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}var vn="standard:connect";var An="standard:disconnect";var Mn="standard:events";var Te=to(Ir(),1);function m(o,e,t,n){function r(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(u){try{d(n.next(u))}catch(_){a(_)}}function c(u){try{d(n.throw(u))}catch(_){a(_)}}function d(u){u.done?i(u.value):r(u.value).then(s,c)}d((n=n.apply(o,e||[])).next())})}function l(o,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!n:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(o):n?n.value:e.get(o)}function w(o,e,t,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?o!==e||!r:!e.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(o,t):r?r.value=t:e.set(o,t),t}var Ve,D,de,Ee,Nr,xr,Lr,bt,za=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,ka=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,Ua=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`,qt=class{constructor(){Ve.add(this),D.set(this,null),de.set(this,{}),Ee.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),l(this,Ve,"m",xr).call(this),l(this,D,"f")&&(l(this,D,"f").style.display="flex")},this.close=(e=void 0)=>{var t;console.debug("Modal close"),l(this,Ve,"m",Lr).call(this),l(this,D,"f")&&(l(this,D,"f").style.display="none"),(t=l(this,de,"f").close)===null||t===void 0||t.forEach(n=>n(e))},bt.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),w(this,D,document.getElementById("mobile-wallet-adapter-embedded-root-ui"),"f")}init(){return m(this,void 0,void 0,function*(){console.log("Injecting modal"),l(this,Ve,"m",Nr).call(this)})}addEventListener(e,t){var n;return!((n=l(this,de,"f")[e])===null||n===void 0)&&n.push(t)||(l(this,de,"f")[e]=[t]),()=>this.removeEventListener(e,t)}removeEventListener(e,t){var n;l(this,de,"f")[e]=(n=l(this,de,"f")[e])===null||n===void 0?void 0:n.filter(r=>t!==r)}};D=new WeakMap,de=new WeakMap,Ee=new WeakMap,bt=new WeakMap,Ve=new WeakSet,Nr=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){l(this,D,"f")||w(this,D,document.getElementById("mobile-wallet-adapter-embedded-root-ui"),"f");return}w(this,D,document.createElement("div"),"f"),l(this,D,"f").id="mobile-wallet-adapter-embedded-root-ui",l(this,D,"f").innerHTML=za,l(this,D,"f").style.display="none";let e=l(this,D,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);let t=document.createElement("style");t.id="mobile-wallet-adapter-embedded-modal-styles",t.textContent=ka+this.contentStyles;let n=document.createElement("div");n.innerHTML=Ua,this.dom=n.attachShadow({mode:"closed"}),this.dom.appendChild(t),this.dom.appendChild(l(this,D,"f")),document.body.appendChild(n)},xr=function(){if(!l(this,D,"f")||l(this,Ee,"f"))return;[...l(this,D,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t?.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",l(this,bt,"f")),w(this,Ee,!0,"f")},Lr=function(){if(!l(this,Ee,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",l(this,bt,"f")),!l(this,D,"f")))return;[...l(this,D,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t?.removeEventListener("click",this.close)),w(this,Ee,!1,"f")};var Cn=class extends qt{constructor(){super(...arguments),this.contentStyles=ja,this.contentHtml=Fa}initWithQR(e){let t=Object.create(null,{init:{get:()=>super.init}});return m(this,void 0,void 0,function*(){t.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var t;return m(this,void 0,void 0,function*(){let n=(t=this.dom)===null||t===void 0?void 0:t.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(n){let r=yield Or.default.toCanvas(e,{width:200,margin:0});n.firstElementChild!==null?n.replaceChild(r,n.firstElementChild):n.appendChild(r)}else console.error("QRCode Container not found")})}},Fa=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,ja=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,Dr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function ie(o){return window.btoa(String.fromCharCode.call(null,...o))}function k(o){return new Uint8Array(window.atob(o).split("").map(e=>e.charCodeAt(0)))}var be,fe,Tn,In,Wn,On,He,P,Y,ne,Se,ue,St,$e,vt,Nn,At,Br,xn,Mt,ve,Rt,Ge,Ct,Ae,Ye,Tt,Ln,Dn,It,Wt,Bn,Pn,Ot,Me,ge,zn,kn,Un,Fn,Qe,z,oe,re,Re,he,Nt,Je,xt,Lt,K,jn,Dt,Pr,qn,Bt,Ze,Kn,Xe,Pt,Ce,et,zt,Vn,Hn,kt,Ut,$n,Gn,Ft,qa="Mobile Wallet Adapter",Ka="Remote Mobile Wallet Adapter",zr=64,kr=[Q,J,rt,ot],Yn=class{constructor(e){be.add(this),fe.set(this,{}),Tn.set(this,"1.0.0"),In.set(this,qa),Wn.set(this,"https://solanamobile.com/wallets"),On.set(this,Dr),He.set(this,void 0),P.set(this,void 0),Y.set(this,void 0),ne.set(this,!1),Se.set(this,0),ue.set(this,[]),St.set(this,void 0),$e.set(this,void 0),vt.set(this,void 0),Nn.set(this,(t,n)=>{var r;return!((r=l(this,fe,"f")[t])===null||r===void 0)&&r.push(n)||(l(this,fe,"f")[t]=[n]),()=>l(this,be,"m",Br).call(this,t,n)}),xn.set(this,({silent:t}={})=>m(this,void 0,void 0,function*(){if(l(this,ne,"f")||this.connected)return{accounts:this.accounts};w(this,ne,!0,"f");try{if(t){let n=yield l(this,Y,"f").get();if(n)yield l(this,Rt,"f").call(this,n.capabilities),yield l(this,ve,"f").call(this,n);else return{accounts:this.accounts}}else yield l(this,Mt,"f").call(this)}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}finally{w(this,ne,!1,"f")}return{accounts:this.accounts}})),Mt.set(this,t=>m(this,void 0,void 0,function*(){try{let n=yield l(this,Y,"f").get();if(n)return l(this,ve,"f").call(this,n),n;let r=yield l(this,St,"f").select(l(this,ue,"f"));return yield l(this,Ae,"f").call(this,i=>m(this,void 0,void 0,function*(){let[a,s]=yield Promise.all([i.getCapabilities(),i.authorize({chain:r,identity:l(this,He,"f"),sign_in_payload:t})]),c=l(this,Tt,"f").call(this,s.accounts),d=Object.assign(Object.assign({},s),{accounts:c,chain:r,capabilities:a});return Promise.all([l(this,Rt,"f").call(this,a),l(this,Y,"f").set(d),l(this,ve,"f").call(this,d)]),d}))}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}})),ve.set(this,t=>m(this,void 0,void 0,function*(){var n;let r=l(this,P,"f")==null||((n=l(this,P,"f"))===null||n===void 0?void 0:n.accounts.length)!==t.accounts.length||l(this,P,"f").accounts.some((i,a)=>i.address!==t.accounts[a].address);w(this,P,t,"f"),r&&l(this,be,"m",At).call(this,"change",{accounts:this.accounts})})),Rt.set(this,t=>m(this,void 0,void 0,function*(){let n=t.features.includes("solana:signTransactions"),r=t.supports_sign_and_send_transactions,i=Q in this.features!==r||J in this.features!==n;w(this,$e,Object.assign(Object.assign({},(r||!r&&!n)&&{[Q]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:l(this,It,"f")}}),n&&{[J]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:l(this,Wt,"f")}}),"f"),i&&l(this,be,"m",At).call(this,"change",{features:this.features})})),Ge.set(this,(t,n,r)=>m(this,void 0,void 0,function*(){var i,a;try{let[s,c]=yield Promise.all([(a=(i=l(this,P,"f"))===null||i===void 0?void 0:i.capabilities)!==null&&a!==void 0?a:yield t.getCapabilities(),t.authorize({auth_token:n,identity:l(this,He,"f"),chain:r})]),d=l(this,Tt,"f").call(this,c.accounts),u=Object.assign(Object.assign({},c),{accounts:d,chain:r,capabilities:s});Promise.all([l(this,Y,"f").set(u),l(this,ve,"f").call(this,u)])}catch(s){throw l(this,Ct,"f").call(this),new Error(s instanceof Error&&s.message||"Unknown error")}})),Ct.set(this,()=>m(this,void 0,void 0,function*(){var t;l(this,Y,"f").clear(),w(this,ne,!1,"f"),w(this,Se,(t=l(this,Se,"f"),t++,t),"f"),w(this,P,void 0,"f"),l(this,be,"m",At).call(this,"change",{accounts:this.accounts})})),Ae.set(this,t=>m(this,void 0,void 0,function*(){var n;let r=(n=l(this,P,"f"))===null||n===void 0?void 0:n.wallet_uri_base,i=r?{baseUri:r}:void 0,a=l(this,Se,"f");try{return yield Ar(t,i)}catch(s){throw l(this,Se,"f")!==a&&(yield new Promise(()=>{})),s instanceof Error&&s.name==="SolanaMobileWalletAdapterError"&&s.code==="ERROR_WALLET_NOT_FOUND"&&(yield l(this,vt,"f").call(this,this)),s}})),Ye.set(this,()=>{if(!l(this,P,"f"))throw new Error("Wallet not connected");return{authToken:l(this,P,"f").auth_token,chain:l(this,P,"f").chain}}),Tt.set(this,t=>t.map(n=>{var r,i;let a=k(n.address);return{address:Te.default.encode(a),publicKey:a,label:n.label,icon:n.icon,chains:(r=n.chains)!==null&&r!==void 0?r:l(this,ue,"f"),features:(i=n.features)!==null&&i!==void 0?i:kr}})),Ln.set(this,t=>m(this,void 0,void 0,function*(){let{authToken:n,chain:r}=l(this,Ye,"f").call(this);try{let i=t.map(a=>ie(a));return yield l(this,Ae,"f").call(this,a=>m(this,void 0,void 0,function*(){return yield l(this,Ge,"f").call(this,a,n,r),(yield a.signTransactions({payloads:i})).signed_payloads.map(k)}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),Dn.set(this,(t,n)=>m(this,void 0,void 0,function*(){let{authToken:r,chain:i}=l(this,Ye,"f").call(this);try{return yield l(this,Ae,"f").call(this,a=>m(this,void 0,void 0,function*(){let[s,c]=yield Promise.all([a.getCapabilities(),l(this,Ge,"f").call(this,a,r,i)]);if(s.supports_sign_and_send_transactions){let d=ie(t);return(yield a.signAndSendTransactions(Object.assign(Object.assign({},n),{payloads:[d]}))).signatures.map(k)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),It.set(this,(...t)=>m(this,void 0,void 0,function*(){let n=[];for(let r of t){let i=yield l(this,Dn,"f").call(this,r.transaction,r.options);n.push({signature:i})}return n})),Wt.set(this,(...t)=>m(this,void 0,void 0,function*(){return(yield l(this,Ln,"f").call(this,t.map(({transaction:n})=>n))).map(n=>({signedTransaction:n}))})),Bn.set(this,(...t)=>m(this,void 0,void 0,function*(){let{authToken:n,chain:r}=l(this,Ye,"f").call(this),i=t.map(({account:s})=>ie(s.publicKey)),a=t.map(({message:s})=>ie(s));try{return yield l(this,Ae,"f").call(this,s=>m(this,void 0,void 0,function*(){return yield l(this,Ge,"f").call(this,s,n,r),(yield s.signMessages({addresses:i,payloads:a})).signed_payloads.map(k).map(d=>({signedMessage:d,signature:d.slice(-zr)}))}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Pn.set(this,(...t)=>m(this,void 0,void 0,function*(){let n=[];if(t.length>1)for(let r of t)n.push(yield l(this,Ot,"f").call(this,r));else return[yield l(this,Ot,"f").call(this,t[0])];return n})),Ot.set(this,t=>m(this,void 0,void 0,function*(){var n,r,i;w(this,ne,!0,"f");try{let a=yield l(this,Mt,"f").call(this,Object.assign(Object.assign({},t),{domain:(n=t?.domain)!==null&&n!==void 0?n:window.location.host}));if(!a.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");let s=a.sign_in_result.address,c=a.accounts.find(d=>d.address==s);return{account:Object.assign(Object.assign({},c??{address:Te.default.encode(k(s))}),{publicKey:k(s),chains:(r=c?.chains)!==null&&r!==void 0?r:l(this,ue,"f"),features:(i=c?.features)!==null&&i!==void 0?i:a.capabilities.features}),signedMessage:k(a.sign_in_result.signed_message),signature:k(a.sign_in_result.signature)}}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}finally{w(this,ne,!1,"f")}})),w(this,Y,e.authorizationCache,"f"),w(this,He,e.appIdentity,"f"),w(this,ue,e.chains,"f"),w(this,St,e.chainSelector,"f"),w(this,vt,e.onWalletNotFound,"f"),w(this,$e,{[Q]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:l(this,It,"f")},[J]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:l(this,Wt,"f")}},"f")}get version(){return l(this,Tn,"f")}get name(){return l(this,In,"f")}get url(){return l(this,Wn,"f")}get icon(){return l(this,On,"f")}get chains(){return l(this,ue,"f")}get features(){return Object.assign({[vn]:{version:"1.0.0",connect:l(this,xn,"f")},[An]:{version:"1.0.0",disconnect:l(this,Ct,"f")},[Mn]:{version:"1.0.0",on:l(this,Nn,"f")},[rt]:{version:"1.0.0",signMessage:l(this,Bn,"f")},[ot]:{version:"1.0.0",signIn:l(this,Pn,"f")}},l(this,$e,"f"))}get accounts(){var e,t;return(t=(e=l(this,P,"f"))===null||e===void 0?void 0:e.accounts)!==null&&t!==void 0?t:[]}get connected(){return!!l(this,P,"f")}get isAuthorized(){return!!l(this,P,"f")}get currentAuthorization(){return l(this,P,"f")}get cachedAuthorizationResult(){return l(this,Y,"f").get()}};fe=new WeakMap,Tn=new WeakMap,In=new WeakMap,Wn=new WeakMap,On=new WeakMap,He=new WeakMap,P=new WeakMap,Y=new WeakMap,ne=new WeakMap,Se=new WeakMap,ue=new WeakMap,St=new WeakMap,$e=new WeakMap,vt=new WeakMap,Nn=new WeakMap,xn=new WeakMap,Mt=new WeakMap,ve=new WeakMap,Rt=new WeakMap,Ge=new WeakMap,Ct=new WeakMap,Ae=new WeakMap,Ye=new WeakMap,Tt=new WeakMap,Ln=new WeakMap,Dn=new WeakMap,It=new WeakMap,Wt=new WeakMap,Bn=new WeakMap,Pn=new WeakMap,Ot=new WeakMap,be=new WeakSet,At=function(e,...t){var n;(n=l(this,fe,"f")[e])===null||n===void 0||n.forEach(r=>r.apply(null,t))},Br=function(e,t){var n;l(this,fe,"f")[e]=(n=l(this,fe,"f")[e])===null||n===void 0?void 0:n.filter(r=>t!==r)};var Qn=class{constructor(e){Me.add(this),ge.set(this,{}),zn.set(this,"1.0.0"),kn.set(this,Ka),Un.set(this,"https://solanamobile.com/wallets"),Fn.set(this,Dr),Qe.set(this,void 0),z.set(this,void 0),oe.set(this,void 0),re.set(this,!1),Re.set(this,0),he.set(this,[]),Nt.set(this,void 0),Je.set(this,void 0),xt.set(this,void 0),Lt.set(this,void 0),K.set(this,void 0),jn.set(this,(t,n)=>{var r;return!((r=l(this,ge,"f")[t])===null||r===void 0)&&r.push(n)||(l(this,ge,"f")[t]=[n]),()=>l(this,Me,"m",Pr).call(this,t,n)}),qn.set(this,({silent:t}={})=>m(this,void 0,void 0,function*(){if(l(this,re,"f")||this.connected)return{accounts:this.accounts};w(this,re,!0,"f");try{yield l(this,Bt,"f").call(this)}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}finally{w(this,re,!1,"f")}return{accounts:this.accounts}})),Bt.set(this,t=>m(this,void 0,void 0,function*(){try{let n=yield l(this,oe,"f").get();if(n)return l(this,Ze,"f").call(this,n),n;l(this,K,"f")&&w(this,K,void 0,"f");let r=yield l(this,Nt,"f").select(l(this,he,"f"));return yield l(this,Ce,"f").call(this,i=>m(this,void 0,void 0,function*(){let[a,s]=yield Promise.all([i.getCapabilities(),i.authorize({chain:r,identity:l(this,Qe,"f"),sign_in_payload:t})]),c=l(this,zt,"f").call(this,s.accounts),d=Object.assign(Object.assign({},s),{accounts:c,chain:r,capabilities:a});return Promise.all([l(this,Kn,"f").call(this,a),l(this,oe,"f").set(d),l(this,Ze,"f").call(this,d)]),d}))}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}})),Ze.set(this,t=>m(this,void 0,void 0,function*(){var n;let r=l(this,z,"f")==null||((n=l(this,z,"f"))===null||n===void 0?void 0:n.accounts.length)!==t.accounts.length||l(this,z,"f").accounts.some((i,a)=>i.address!==t.accounts[a].address);w(this,z,t,"f"),r&&l(this,Me,"m",Dt).call(this,"change",{accounts:this.accounts})})),Kn.set(this,t=>m(this,void 0,void 0,function*(){let n=t.features.includes("solana:signTransactions"),r=t.supports_sign_and_send_transactions||t.features.includes("solana:signAndSendTransaction"),i=Q in this.features!==r||J in this.features!==n;w(this,Je,Object.assign(Object.assign({},r&&{[Q]:{version:"1.0.0",supportedTransactionVersions:t.supported_transaction_versions,signAndSendTransaction:l(this,kt,"f")}}),n&&{[J]:{version:"1.0.0",supportedTransactionVersions:t.supported_transaction_versions,signTransaction:l(this,Ut,"f")}}),"f"),i&&l(this,Me,"m",Dt).call(this,"change",{features:this.features})})),Xe.set(this,(t,n,r)=>m(this,void 0,void 0,function*(){var i,a;try{let[s,c]=yield Promise.all([(a=(i=l(this,z,"f"))===null||i===void 0?void 0:i.capabilities)!==null&&a!==void 0?a:yield t.getCapabilities(),t.authorize({auth_token:n,identity:l(this,Qe,"f"),chain:r})]),d=l(this,zt,"f").call(this,c.accounts),u=Object.assign(Object.assign({},c),{accounts:d,chain:r,capabilities:s});Promise.all([l(this,oe,"f").set(u),l(this,Ze,"f").call(this,u)])}catch(s){throw l(this,Pt,"f").call(this),new Error(s instanceof Error&&s.message||"Unknown error")}})),Pt.set(this,()=>m(this,void 0,void 0,function*(){var t,n;(t=l(this,K,"f"))===null||t===void 0||t.close(),l(this,oe,"f").clear(),w(this,re,!1,"f"),w(this,Re,(n=l(this,Re,"f"),n++,n),"f"),w(this,z,void 0,"f"),w(this,K,void 0,"f"),l(this,Me,"m",Dt).call(this,"change",{accounts:this.accounts})})),Ce.set(this,t=>m(this,void 0,void 0,function*(){var n;let r=(n=l(this,z,"f"))===null||n===void 0?void 0:n.wallet_uri_base,a=Object.assign(Object.assign({},r?{baseUri:r}:void 0),{remoteHostAuthority:l(this,Lt,"f")}),s=l(this,Re,"f"),c=new Cn;if(l(this,K,"f"))return t(l(this,K,"f").wallet);try{let{associationUrl:d,close:u,wallet:_}=yield Mr(a),f=c.addEventListener("close",g=>{g&&u()});return c.initWithQR(d.toString()),c.open(),w(this,K,{close:u,wallet:yield _},"f"),f(),c.close(),yield t(l(this,K,"f").wallet)}catch(d){throw c.close(),l(this,Re,"f")!==s&&(yield new Promise(()=>{})),d instanceof Error&&d.name==="SolanaMobileWalletAdapterError"&&d.code==="ERROR_WALLET_NOT_FOUND"&&(yield l(this,xt,"f").call(this,this)),d}})),et.set(this,()=>{if(!l(this,z,"f"))throw new Error("Wallet not connected");return{authToken:l(this,z,"f").auth_token,chain:l(this,z,"f").chain}}),zt.set(this,t=>t.map(n=>{var r,i;let a=k(n.address);return{address:Te.default.encode(a),publicKey:a,label:n.label,icon:n.icon,chains:(r=n.chains)!==null&&r!==void 0?r:l(this,he,"f"),features:(i=n.features)!==null&&i!==void 0?i:kr}})),Vn.set(this,t=>m(this,void 0,void 0,function*(){let{authToken:n,chain:r}=l(this,et,"f").call(this);try{return yield l(this,Ce,"f").call(this,i=>m(this,void 0,void 0,function*(){return yield l(this,Xe,"f").call(this,i,n,r),(yield i.signTransactions({payloads:t.map(ie)})).signed_payloads.map(k)}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),Hn.set(this,(t,n)=>m(this,void 0,void 0,function*(){let{authToken:r,chain:i}=l(this,et,"f").call(this);try{return yield l(this,Ce,"f").call(this,a=>m(this,void 0,void 0,function*(){let[s,c]=yield Promise.all([a.getCapabilities(),l(this,Xe,"f").call(this,a,r,i)]);if(s.supports_sign_and_send_transactions)return(yield a.signAndSendTransactions(Object.assign(Object.assign({},n),{payloads:[ie(t)]}))).signatures.map(k)[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),kt.set(this,(...t)=>m(this,void 0,void 0,function*(){let n=[];for(let r of t){let i=yield l(this,Hn,"f").call(this,r.transaction,r.options);n.push({signature:i})}return n})),Ut.set(this,(...t)=>m(this,void 0,void 0,function*(){return(yield l(this,Vn,"f").call(this,t.map(({transaction:n})=>n))).map(n=>({signedTransaction:n}))})),$n.set(this,(...t)=>m(this,void 0,void 0,function*(){let{authToken:n,chain:r}=l(this,et,"f").call(this),i=t.map(({account:s})=>ie(s.publicKey)),a=t.map(({message:s})=>ie(s));try{return yield l(this,Ce,"f").call(this,s=>m(this,void 0,void 0,function*(){return yield l(this,Xe,"f").call(this,s,n,r),(yield s.signMessages({addresses:i,payloads:a})).signed_payloads.map(k).map(d=>({signedMessage:d,signature:d.slice(-zr)}))}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Gn.set(this,(...t)=>m(this,void 0,void 0,function*(){let n=[];if(t.length>1)for(let r of t)n.push(yield l(this,Ft,"f").call(this,r));else return[yield l(this,Ft,"f").call(this,t[0])];return n})),Ft.set(this,t=>m(this,void 0,void 0,function*(){var n,r,i;w(this,re,!0,"f");try{let a=yield l(this,Bt,"f").call(this,Object.assign(Object.assign({},t),{domain:(n=t?.domain)!==null&&n!==void 0?n:window.location.host}));if(!a.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");let s=a.sign_in_result.address,c=a.accounts.find(d=>d.address==s);return{account:Object.assign(Object.assign({},c??{address:Te.default.encode(k(s))}),{publicKey:k(s),chains:(r=c?.chains)!==null&&r!==void 0?r:l(this,he,"f"),features:(i=c?.features)!==null&&i!==void 0?i:a.capabilities.features}),signedMessage:k(a.sign_in_result.signed_message),signature:k(a.sign_in_result.signature)}}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}finally{w(this,re,!1,"f")}})),w(this,oe,e.authorizationCache,"f"),w(this,Qe,e.appIdentity,"f"),w(this,he,e.chains,"f"),w(this,Nt,e.chainSelector,"f"),w(this,Lt,e.remoteHostAuthority,"f"),w(this,xt,e.onWalletNotFound,"f"),w(this,Je,{[Q]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:l(this,kt,"f")},[J]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:l(this,Ut,"f")}},"f")}get version(){return l(this,zn,"f")}get name(){return l(this,kn,"f")}get url(){return l(this,Un,"f")}get icon(){return l(this,Fn,"f")}get chains(){return l(this,he,"f")}get features(){return Object.assign({[vn]:{version:"1.0.0",connect:l(this,qn,"f")},[An]:{version:"1.0.0",disconnect:l(this,Pt,"f")},[Mn]:{version:"1.0.0",on:l(this,jn,"f")},[rt]:{version:"1.0.0",signMessage:l(this,$n,"f")},[ot]:{version:"1.0.0",signIn:l(this,Gn,"f")}},l(this,Je,"f"))}get accounts(){var e,t;return(t=(e=l(this,z,"f"))===null||e===void 0?void 0:e.accounts)!==null&&t!==void 0?t:[]}get connected(){return!!l(this,K,"f")&&!!l(this,z,"f")}get isAuthorized(){return!!l(this,z,"f")}get currentAuthorization(){return l(this,z,"f")}get cachedAuthorizationResult(){return l(this,oe,"f").get()}};ge=new WeakMap,zn=new WeakMap,kn=new WeakMap,Un=new WeakMap,Fn=new WeakMap,Qe=new WeakMap,z=new WeakMap,oe=new WeakMap,re=new WeakMap,Re=new WeakMap,he=new WeakMap,Nt=new WeakMap,Je=new WeakMap,xt=new WeakMap,Lt=new WeakMap,K=new WeakMap,jn=new WeakMap,qn=new WeakMap,Bt=new WeakMap,Ze=new WeakMap,Kn=new WeakMap,Xe=new WeakMap,Pt=new WeakMap,Ce=new WeakMap,et=new WeakMap,zt=new WeakMap,Vn=new WeakMap,Hn=new WeakMap,kt=new WeakMap,Ut=new WeakMap,$n=new WeakMap,Gn=new WeakMap,Ft=new WeakMap,Me=new WeakSet,Dt=function(e,...t){var n;(n=l(this,ge,"f")[e])===null||n===void 0||n.forEach(r=>r.apply(null,t))},Pr=function(e,t){var n;l(this,ge,"f")[e]=(n=l(this,ge,"f")[e])===null||n===void 0?void 0:n.filter(r=>t!==r)};var Va=function(o,e,t,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?o!==e||!r:!e.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(o,t):r?r.value=t:e.set(o,t),t},Ha=function(o,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!n:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(o):n?n.value:e.get(o)},jt;function Wr(o){let e=({register:t})=>t(o);try{window.dispatchEvent(new Jn(e))}catch(t){console.error(`wallet-standard:register-wallet event could not be dispatched
`,t)}try{window.addEventListener("wallet-standard:app-ready",({detail:t})=>e(t))}catch(t){console.error(`wallet-standard:app-ready event listener could not be added
`,t)}}var Jn=class extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),jt.set(this,void 0),Va(this,jt,e,"f")}get detail(){return Ha(this,jt,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};jt=new WeakMap;function $a(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function Ga(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function Ya(o){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(o)}function Ur(o){if(typeof window>"u"){console.warn("MWA not registered: no window object");return}if(!window.isSecureContext){console.warn("MWA not registered: secure context required (https)");return}$a()&&!Ya(navigator.userAgent)?Wr(new Yn(o)):Ga()&&o.remoteHostAuthority!==void 0&&Wr(new Qn(Object.assign(Object.assign({},o),{remoteHostAuthority:o.remoteHostAuthority})))}var Qa="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",Ja="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.",Zn=class extends qt{constructor(){super(...arguments),this.contentStyles=Xa,this.contentHtml=Za}initWithError(e){super.init(),this.populateError(e)}populateError(e){var t,n;let r=(t=this.dom)===null||t===void 0?void 0:t.getElementById("mobile-wallet-adapter-error-message"),i=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-action");if(r){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":r.innerHTML=Qa,i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":r.innerHTML=Ja,i&&(i.style.display="none");return}r.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}},Za=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,Xa=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function es(){return m(this,void 0,void 0,function*(){if(typeof window<"u"){let o=window.navigator.userAgent.toLowerCase(),e=new Zn;o.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function Fr(){return()=>m(this,void 0,void 0,function*(){es()})}var Rn="SolanaMobileWalletAdapterDefaultAuthorizationCache";function jr(){let o;try{o=window.localStorage}catch{}return{clear(){return m(this,void 0,void 0,function*(){if(o)try{o.removeItem(Rn)}catch{}})},get(){return m(this,void 0,void 0,function*(){if(o)try{let e=JSON.parse(o.getItem(Rn));if(e&&e.accounts){let t=e.accounts.map(n=>Object.assign(Object.assign({},n),{publicKey:"publicKey"in n?new Uint8Array(Object.values(n.publicKey)):Te.default.decode(n.address)}));return Object.assign(Object.assign({},e),{accounts:t})}else return e||void 0}catch{}})},set(e){return m(this,void 0,void 0,function*(){if(o)try{o.setItem(Rn,JSON.stringify(e))}catch{}})}}}function qr(){return{select(o){return m(this,void 0,void 0,function*(){return o.length===1?o[0]:o.includes(_n)?_n:o[0]})}}}var ts=function(o,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!n:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(o):n?n.value:e.get(o)},ns=function(o,e,t,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?o!==e||!r:!e.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(o,t):r?r.value=t:e.set(o,t),t},Kt,tt,Vt=new Set;function os(o){nt=void 0,Vt.add(o)}function rs(o){nt=void 0,Vt.delete(o)}var Ie={};function Hr(){if(tt||(tt=Object.freeze({register:Kr,get:is,on:as}),typeof window>"u"))return tt;let o=Object.freeze({register:Kr});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(o))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Xn(o))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return tt}function Kr(...o){return o=o.filter(e=>!Vt.has(e)),o.length?(o.forEach(e=>os(e)),Ie.register?.forEach(e=>Vr(()=>e(...o))),function(){o.forEach(t=>rs(t)),Ie.unregister?.forEach(t=>Vr(()=>t(...o)))}):()=>{}}var nt;function is(){return nt||(nt=[...Vt]),nt}function as(o,e){return Ie[o]?.push(e)||(Ie[o]=[e]),function(){Ie[o]=Ie[o]?.filter(n=>e!==n)}}function Vr(o){try{o()}catch(e){console.error(e)}}var Xn=class extends Event{get detail(){return ts(this,Kt,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Kt.set(this,void 0),ns(this,Kt,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};Kt=new WeakMap;var $r=typeof location<"u"?location.origin:"https://snake-web-phi.vercel.app",ss="Snake - Solana",ls=$r+"/icons/icon.svg",h={ready:!1,connected:!1,connectedWallet:null,connectedAccount:null,wallets:null,_initialized:!1};function Gr(){if(h._initialized){console.log("[Seeker MWA] Already initialized");return}try{console.log("[Seeker MWA] Initializing..."),Ur({appIdentity:{name:ss,uri:$r,icon:ls},authorizationCache:jr(),chains:["solana:devnet","solana:mainnet"],chainSelector:qr(),onWalletNotFound:Fr()}),h.wallets=Hr(),h.wallets.on("register",()=>{console.log("[Seeker MWA] Wallet registered")}),h.wallets.on("unregister",()=>{console.log("[Seeker MWA] Wallet unregistered"),h.connectedWallet&&(h.connected=!1,h.connectedWallet=null,h.connectedAccount=null)}),h.ready=!0,h._initialized=!0,console.log("[Seeker MWA] \u2705 Initialized successfully"),cs()}catch(o){console.error("[Seeker MWA] \u274C Initialization failed:",o),h.ready=!1}}function Yr(){return h.wallets?h.wallets.get().filter(e=>e.chains&&e.chains.some(t=>t.startsWith("solana:"))):[]}function Qr(o){return o.find(e=>e.name==="Mobile Wallet Adapter"||e.name.toLowerCase().includes("seeker")||e.name.toLowerCase().includes("seed vault"))||o[0]}async function cs(){try{let o=Yr();if(o.length===0)return;let e=Qr(o),t=e.features?.["standard:connect"];if(t?.connect)try{let n=await t.connect({silent:!0});n?.accounts?.length>0&&(h.connectedWallet=e,h.connectedAccount=n.accounts[0],h.connected=!0,console.log("[Seeker MWA] \u2705 Reconnected to cached wallet:",h.connectedAccount.address))}catch{console.log("[Seeker MWA] Silent reconnect failed (normal if first time)")}}catch(o){console.warn("[Seeker MWA] Error checking existing auth:",o)}}h.connect=async function(o={}){h.ready||(Gr(),await new Promise(e=>setTimeout(e,100)));try{let e=Yr();if(e.length===0)throw new Error("No Solana wallet found. On Seeker device, use the built-in wallet. On other devices, install a wallet app like Phantom.");let t=Qr(e);console.log("[Seeker MWA] Connecting to wallet:",t.name);let n=t.features?.["standard:connect"];if(!n?.connect)throw new Error(`Wallet "${t.name}" does not support connect.`);console.log("[Seeker MWA] Calling connect()...");let r=await n.connect({silent:o.silent!==!1});if(console.log("[Seeker MWA] Connect result:",r),!r?.accounts||r.accounts.length===0)throw new Error("No account selected or authorized.");return h.connectedWallet=t,h.connectedAccount=r.accounts[0],h.connected=!0,console.log("[Seeker MWA] \u2705 Connected successfully:",{wallet:t.name,address:h.connectedAccount.address,chains:h.connectedAccount.chains}),h.connectedAccount.address}catch(e){throw console.error("[Seeker MWA] \u274C Connect error:",e),h.connected=!1,h.connectedWallet=null,h.connectedAccount=null,new Error(`Failed to connect to Seeker wallet: ${e.message||String(e)}`)}};h.disconnect=async function(){if(!(!h.connectedWallet||!h.connected))try{let o=h.connectedWallet.features?.["standard:disconnect"];o?.disconnect&&await o.disconnect()}catch(o){console.warn("[Seeker MWA] Disconnect error:",o)}finally{h.connected=!1,h.connectedWallet=null,h.connectedAccount=null,console.log("[Seeker MWA] Disconnected")}};h.signAndSendTransaction=async function(o,e={}){if(!h.connected||!h.connectedWallet)throw new Error("Wallet not connected. Call connect() first.");let t=h.connectedWallet.features?.["solana:signAndSendTransaction"];if(!t?.signAndSendTransaction)throw new Error("Wallet does not support signAndSendTransaction.");try{console.log("[Seeker MWA] Signing and sending transaction...");let n=await t.signAndSendTransaction({account:h.connectedAccount,chain:h.connectedAccount.chains?.[0]||"solana:devnet",transaction:o,options:e});return console.log("[Seeker MWA] \u2705 Transaction sent"),n}catch(n){throw console.error("[Seeker MWA] \u274C Sign transaction error:",n),n}};h.signTransaction=async function(o){if(!h.connected||!h.connectedWallet)throw new Error("Wallet not connected. Call connect() first.");let e=h.connectedWallet.features?.["solana:signTransaction"];if(!e?.signTransaction)throw new Error("Wallet does not support signTransaction.");try{console.log("[Seeker MWA] Signing transaction...");let t=await e.signTransaction({account:h.connectedAccount,chain:h.connectedAccount.chains?.[0]||"solana:devnet",transaction:o});return console.log("[Seeker MWA] \u2705 Transaction signed"),t}catch(t){throw console.error("[Seeker MWA] \u274C Sign transaction error:",t),t}};h.signMessage=async function(o){if(!h.connected||!h.connectedWallet)throw new Error("Wallet not connected. Call connect() first.");let e=h.connectedWallet.features?.["standard:signMessage"];if(!e?.signMessage)throw new Error("Wallet does not support signMessage.");try{console.log("[Seeker MWA] Signing message...");let t=await e.signMessage({account:h.connectedAccount,message:{raw:o}});return console.log("[Seeker MWA] \u2705 Message signed"),t}catch(t){throw console.error("[Seeker MWA] \u274C Sign message error:",t),t}};h.getPublicKey=function(){return h.connectedAccount?.address||null};h.isConnected=function(){return h.connected&&h.connectedAccount!==null};Gr();typeof window<"u"&&(window.__snakeWalletAdapter=h,console.log("[Seeker MWA] Adapter exposed on window.__snakeWalletAdapter, ready:",h.ready));var pl=h;})();
