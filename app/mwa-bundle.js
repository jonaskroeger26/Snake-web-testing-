(()=>{var Gi=Object.create;var eo=Object.defineProperty;var Yi=Object.getOwnPropertyDescriptor;var Qi=Object.getOwnPropertyNames;var Ji=Object.getPrototypeOf,Zi=Object.prototype.hasOwnProperty;var S=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);var Xi=(o,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Qi(e))!Zi.call(o,i)&&i!==t&&eo(o,i,{get:()=>e[i],enumerable:!(n=Yi(e,i))||n.enumerable});return o};var to=(o,e,t)=>(t=o!=null?Gi(Ji(o)):{},Xi(e||!o||!o.__esModule?eo(t,"default",{value:o,enumerable:!0}):t,o));var oo=S((hs,no)=>{no.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Z=S(ae=>{var Gt,er=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ae.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ae.getSymbolTotalCodewords=function(e){return er[e]};ae.getBCHDigit=function(o){let e=0;for(;o!==0;)e++,o>>>=1;return e};ae.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Gt=e};ae.isKanjiModeEnabled=function(){return typeof Gt<"u"};ae.toSJIS=function(e){return Gt(e)}});var rt=S(F=>{F.L={bit:1};F.M={bit:0};F.Q={bit:3};F.H={bit:2};function tr(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return F.L;case"m":case"medium":return F.M;case"q":case"quartile":return F.Q;case"h":case"high":return F.H;default:throw new Error("Unknown EC Level: "+o)}}F.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};F.from=function(e,t){if(F.isValid(e))return e;try{return tr(e)}catch{return t}}});var ao=S((ps,ro)=>{function io(){this.buffer=[],this.length=0}io.prototype={get:function(o){let e=Math.floor(o/8);return(this.buffer[e]>>>7-o%8&1)===1},put:function(o,e){for(let t=0;t<e;t++)this.putBit((o>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),o&&(this.buffer[e]|=128>>>this.length%8),this.length++}};ro.exports=io});var lo=S((ms,so)=>{function Le(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}Le.prototype.set=function(o,e,t,n){let i=o*this.size+e;this.data[i]=t,n&&(this.reservedBit[i]=!0)};Le.prototype.get=function(o,e){return this.data[o*this.size+e]};Le.prototype.xor=function(o,e,t){this.data[o*this.size+e]^=t};Le.prototype.isReserved=function(o,e){return this.reservedBit[o*this.size+e]};so.exports=Le});var co=S(at=>{var nr=Z().getSymbolSize;at.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,n=nr(e),i=n===145?26:Math.ceil((n-13)/(2*t-2))*2,r=[n-7];for(let a=1;a<t-1;a++)r[a]=r[a-1]-i;return r.push(6),r.reverse()};at.getPositions=function(e){let t=[],n=at.getRowColCoords(e),i=n.length;for(let r=0;r<i;r++)for(let a=0;a<i;a++)r===0&&a===0||r===0&&a===i-1||r===i-1&&a===0||t.push([n[r],n[a]]);return t}});var fo=S(ho=>{var or=Z().getSymbolSize,uo=7;ho.getPositions=function(e){let t=or(e);return[[0,0],[t-uo,0],[0,t-uo]]}});var go=S(T=>{T.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var se={N1:3,N2:3,N3:40,N4:10};T.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};T.from=function(e){return T.isValid(e)?parseInt(e,10):void 0};T.getPenaltyN1=function(e){let t=e.size,n=0,i=0,r=0,a=null,s=null;for(let c=0;c<t;c++){i=r=0,a=s=null;for(let d=0;d<t;d++){let u=e.get(c,d);u===a?i++:(i>=5&&(n+=se.N1+(i-5)),a=u,i=1),u=e.get(d,c),u===s?r++:(r>=5&&(n+=se.N1+(r-5)),s=u,r=1)}i>=5&&(n+=se.N1+(i-5)),r>=5&&(n+=se.N1+(r-5))}return n};T.getPenaltyN2=function(e){let t=e.size,n=0;for(let i=0;i<t-1;i++)for(let r=0;r<t-1;r++){let a=e.get(i,r)+e.get(i,r+1)+e.get(i+1,r)+e.get(i+1,r+1);(a===4||a===0)&&n++}return n*se.N2};T.getPenaltyN3=function(e){let t=e.size,n=0,i=0,r=0;for(let a=0;a<t;a++){i=r=0;for(let s=0;s<t;s++)i=i<<1&2047|e.get(a,s),s>=10&&(i===1488||i===93)&&n++,r=r<<1&2047|e.get(s,a),s>=10&&(r===1488||r===93)&&n++}return n*se.N3};T.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(t*100/n/5)-10)*se.N4};function ir(o,e,t){switch(o){case T.Patterns.PATTERN000:return(e+t)%2===0;case T.Patterns.PATTERN001:return e%2===0;case T.Patterns.PATTERN010:return t%3===0;case T.Patterns.PATTERN011:return(e+t)%3===0;case T.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case T.Patterns.PATTERN101:return e*t%2+e*t%3===0;case T.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case T.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}T.applyMask=function(e,t){let n=t.size;for(let i=0;i<n;i++)for(let r=0;r<n;r++)t.isReserved(r,i)||t.xor(r,i,ir(e,r,i))};T.getBestMask=function(e,t){let n=Object.keys(T.Patterns).length,i=0,r=1/0;for(let a=0;a<n;a++){t(a),T.applyMask(a,e);let s=T.getPenaltyN1(e)+T.getPenaltyN2(e)+T.getPenaltyN3(e)+T.getPenaltyN4(e);T.applyMask(a,e),s<r&&(r=s,i=a)}return i}});var Qt=S(Yt=>{var X=rt(),st=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],lt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Yt.getBlocksCount=function(e,t){switch(t){case X.L:return st[(e-1)*4+0];case X.M:return st[(e-1)*4+1];case X.Q:return st[(e-1)*4+2];case X.H:return st[(e-1)*4+3];default:return}};Yt.getTotalCodewordsCount=function(e,t){switch(t){case X.L:return lt[(e-1)*4+0];case X.M:return lt[(e-1)*4+1];case X.Q:return lt[(e-1)*4+2];case X.H:return lt[(e-1)*4+3];default:return}}});var po=S(dt=>{var De=new Uint8Array(512),ct=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)De[t]=e,ct[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)De[t]=De[t-255]})();dt.log=function(e){if(e<1)throw new Error("log("+e+")");return ct[e]};dt.exp=function(e){return De[e]};dt.mul=function(e,t){return e===0||t===0?0:De[ct[e]+ct[t]]}});var mo=S(Be=>{var Jt=po();Be.mul=function(e,t){let n=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let r=0;r<t.length;r++)n[i+r]^=Jt.mul(e[i],t[r]);return n};Be.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){let i=n[0];for(let a=0;a<t.length;a++)n[a]^=Jt.mul(t[a],i);let r=0;for(;r<n.length&&n[r]===0;)r++;n=n.slice(r)}return n};Be.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=Be.mul(t,new Uint8Array([1,Jt.exp(n)]));return t}});var yo=S((Ss,_o)=>{var wo=mo();function Zt(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}Zt.prototype.initialize=function(e){this.degree=e,this.genPoly=wo.generateECPolynomial(this.degree)};Zt.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let n=wo.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){let r=new Uint8Array(this.degree);return r.set(n,i),r}return n};_o.exports=Zt});var Xt=S(Eo=>{Eo.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var en=S($=>{var bo="[0-9]+",rr="[A-Z $%*+\\-./:]+",Pe="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Pe=Pe.replace(/u/g,"\\u");var ar="(?:(?![A-Z0-9 $%*+\\-./:]|"+Pe+`)(?:.|[\r
]))+`;$.KANJI=new RegExp(Pe,"g");$.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");$.BYTE=new RegExp(ar,"g");$.NUMERIC=new RegExp(bo,"g");$.ALPHANUMERIC=new RegExp(rr,"g");var sr=new RegExp("^"+Pe+"$"),lr=new RegExp("^"+bo+"$"),cr=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");$.testKanji=function(e){return sr.test(e)};$.testNumeric=function(e){return lr.test(e)};$.testAlphanumeric=function(e){return cr.test(e)}});var ee=S(W=>{var dr=Xt(),tn=en();W.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};W.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};W.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};W.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};W.MIXED={bit:-1};W.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!dr.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};W.getBestModeForData=function(e){return tn.testNumeric(e)?W.NUMERIC:tn.testAlphanumeric(e)?W.ALPHANUMERIC:tn.testKanji(e)?W.KANJI:W.BYTE};W.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};W.isValid=function(e){return e&&e.bit&&e.ccBits};function ur(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return W.NUMERIC;case"alphanumeric":return W.ALPHANUMERIC;case"kanji":return W.KANJI;case"byte":return W.BYTE;default:throw new Error("Unknown mode: "+o)}}W.from=function(e,t){if(W.isValid(e))return e;try{return ur(e)}catch{return t}}});var Mo=S(le=>{var ut=Z(),hr=Qt(),vo=rt(),te=ee(),nn=Xt(),Ao=7973,So=ut.getBCHDigit(Ao);function fr(o,e,t){for(let n=1;n<=40;n++)if(e<=le.getCapacity(n,t,o))return n}function Ro(o,e){return te.getCharCountIndicator(o,e)+4}function gr(o,e){let t=0;return o.forEach(function(n){let i=Ro(n.mode,e);t+=i+n.getBitsLength()}),t}function pr(o,e){for(let t=1;t<=40;t++)if(gr(o,t)<=le.getCapacity(t,e,te.MIXED))return t}le.from=function(e,t){return nn.isValid(e)?parseInt(e,10):t};le.getCapacity=function(e,t,n){if(!nn.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=te.BYTE);let i=ut.getSymbolTotalCodewords(e),r=hr.getTotalCodewordsCount(e,t),a=(i-r)*8;if(n===te.MIXED)return a;let s=a-Ro(n,e);switch(n){case te.NUMERIC:return Math.floor(s/10*3);case te.ALPHANUMERIC:return Math.floor(s/11*2);case te.KANJI:return Math.floor(s/13);case te.BYTE:default:return Math.floor(s/8)}};le.getBestVersionForData=function(e,t){let n,i=vo.from(t,vo.M);if(Array.isArray(e)){if(e.length>1)return pr(e,i);if(e.length===0)return 1;n=e[0]}else n=e;return fr(n.mode,n.getLength(),i)};le.getEncodedBits=function(e){if(!nn.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;ut.getBCHDigit(t)-So>=0;)t^=Ao<<ut.getBCHDigit(t)-So;return e<<12|t}});var Oo=S(Io=>{var on=Z(),To=1335,mr=21522,Co=on.getBCHDigit(To);Io.getEncodedBits=function(e,t){let n=e.bit<<3|t,i=n<<10;for(;on.getBCHDigit(i)-Co>=0;)i^=To<<on.getBCHDigit(i)-Co;return(n<<10|i)^mr}});var Wo=S((Is,No)=>{var wr=ee();function pe(o){this.mode=wr.NUMERIC,this.data=o.toString()}pe.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};pe.prototype.getLength=function(){return this.data.length};pe.prototype.getBitsLength=function(){return pe.getBitsLength(this.data.length)};pe.prototype.write=function(e){let t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),e.put(i,10);let r=this.data.length-t;r>0&&(n=this.data.substr(t),i=parseInt(n,10),e.put(i,r*3+1))};No.exports=pe});var Lo=S((Os,xo)=>{var _r=ee(),rn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function me(o){this.mode=_r.ALPHANUMERIC,this.data=o}me.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};me.prototype.getLength=function(){return this.data.length};me.prototype.getBitsLength=function(){return me.getBitsLength(this.data.length)};me.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=rn.indexOf(this.data[t])*45;n+=rn.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(rn.indexOf(this.data[t]),6)};xo.exports=me});var Bo=S((Ns,Do)=>{var yr=ee();function we(o){this.mode=yr.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}we.getBitsLength=function(e){return e*8};we.prototype.getLength=function(){return this.data.length};we.prototype.getBitsLength=function(){return we.getBitsLength(this.data.length)};we.prototype.write=function(o){for(let e=0,t=this.data.length;e<t;e++)o.put(this.data[e],8)};Do.exports=we});var zo=S((Ws,Po)=>{var Er=ee(),br=Z();function _e(o){this.mode=Er.KANJI,this.data=o}_e.getBitsLength=function(e){return e*13};_e.prototype.getLength=function(){return this.data.length};_e.prototype.getBitsLength=function(){return _e.getBitsLength(this.data.length)};_e.prototype.write=function(o){let e;for(e=0;e<this.data.length;e++){let t=br.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),o.put(t,13)}};Po.exports=_e});var Uo=S((xs,an)=>{"use strict";var ze={single_source_shortest_paths:function(o,e,t){var n={},i={};i[e]=0;var r=ze.PriorityQueue.make();r.push(e,0);for(var a,s,c,d,u,w,h,f,M;!r.empty();){a=r.pop(),s=a.value,d=a.cost,u=o[s]||{};for(c in u)u.hasOwnProperty(c)&&(w=u[c],h=d+w,f=i[c],M=typeof i[c]>"u",(M||f>h)&&(i[c]=h,r.push(c,h),n[c]=s))}if(typeof t<"u"&&typeof i[t]>"u"){var b=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(b)}return n},extract_shortest_path_from_predecessor_list:function(o,e){for(var t=[],n=e,i;n;)t.push(n),i=o[n],n=o[n];return t.reverse(),t},find_path:function(o,e,t){var n=ze.single_source_shortest_paths(o,e,t);return ze.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(o){var e=ze.PriorityQueue,t={},n;o=o||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=o.sorter||e.default_sorter,t},default_sorter:function(o,e){return o.cost-e.cost},push:function(o,e){var t={value:o,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof an<"u"&&(an.exports=ze)});var $o=S(ye=>{var A=ee(),jo=Wo(),qo=Lo(),Ko=Bo(),Vo=zo(),Ue=en(),ht=Z(),vr=Uo();function ko(o){return unescape(encodeURIComponent(o)).length}function ke(o,e,t){let n=[],i;for(;(i=o.exec(t))!==null;)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function Ho(o){let e=ke(Ue.NUMERIC,A.NUMERIC,o),t=ke(Ue.ALPHANUMERIC,A.ALPHANUMERIC,o),n,i;return ht.isKanjiModeEnabled()?(n=ke(Ue.BYTE,A.BYTE,o),i=ke(Ue.KANJI,A.KANJI,o)):(n=ke(Ue.BYTE_KANJI,A.BYTE,o),i=[]),e.concat(t,n,i).sort(function(a,s){return a.index-s.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function sn(o,e){switch(e){case A.NUMERIC:return jo.getBitsLength(o);case A.ALPHANUMERIC:return qo.getBitsLength(o);case A.KANJI:return Vo.getBitsLength(o);case A.BYTE:return Ko.getBitsLength(o)}}function Sr(o){return o.reduce(function(e,t){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function Ar(o){let e=[];for(let t=0;t<o.length;t++){let n=o[t];switch(n.mode){case A.NUMERIC:e.push([n,{data:n.data,mode:A.ALPHANUMERIC,length:n.length},{data:n.data,mode:A.BYTE,length:n.length}]);break;case A.ALPHANUMERIC:e.push([n,{data:n.data,mode:A.BYTE,length:n.length}]);break;case A.KANJI:e.push([n,{data:n.data,mode:A.BYTE,length:ko(n.data)}]);break;case A.BYTE:e.push([{data:n.data,mode:A.BYTE,length:ko(n.data)}])}}return e}function Rr(o,e){let t={},n={start:{}},i=["start"];for(let r=0;r<o.length;r++){let a=o[r],s=[];for(let c=0;c<a.length;c++){let d=a[c],u=""+r+c;s.push(u),t[u]={node:d,lastCount:0},n[u]={};for(let w=0;w<i.length;w++){let h=i[w];t[h]&&t[h].node.mode===d.mode?(n[h][u]=sn(t[h].lastCount+d.length,d.mode)-sn(t[h].lastCount,d.mode),t[h].lastCount+=d.length):(t[h]&&(t[h].lastCount=d.length),n[h][u]=sn(d.length,d.mode)+4+A.getCharCountIndicator(d.mode,e))}}i=s}for(let r=0;r<i.length;r++)n[i[r]].end=0;return{map:n,table:t}}function Fo(o,e){let t,n=A.getBestModeForData(o);if(t=A.from(e,n),t!==A.BYTE&&t.bit<n.bit)throw new Error('"'+o+'" cannot be encoded with mode '+A.toString(t)+`.
 Suggested mode is: `+A.toString(n));switch(t===A.KANJI&&!ht.isKanjiModeEnabled()&&(t=A.BYTE),t){case A.NUMERIC:return new jo(o);case A.ALPHANUMERIC:return new qo(o);case A.KANJI:return new Vo(o);case A.BYTE:return new Ko(o)}}ye.fromArray=function(e){return e.reduce(function(t,n){return typeof n=="string"?t.push(Fo(n,null)):n.data&&t.push(Fo(n.data,n.mode)),t},[])};ye.fromString=function(e,t){let n=Ho(e,ht.isKanjiModeEnabled()),i=Ar(n),r=Rr(i,t),a=vr.find_path(r.map,"start","end"),s=[];for(let c=1;c<a.length-1;c++)s.push(r.table[a[c]].node);return ye.fromArray(Sr(s))};ye.rawSplit=function(e){return ye.fromArray(Ho(e,ht.isKanjiModeEnabled()))}});var Yo=S(Go=>{var gt=Z(),ln=rt(),Mr=ao(),Cr=lo(),Tr=co(),Ir=fo(),un=go(),hn=Qt(),Or=yo(),ft=Mo(),Nr=Oo(),Wr=ee(),cn=$o();function xr(o,e){let t=o.size,n=Ir.getPositions(e);for(let i=0;i<n.length;i++){let r=n[i][0],a=n[i][1];for(let s=-1;s<=7;s++)if(!(r+s<=-1||t<=r+s))for(let c=-1;c<=7;c++)a+c<=-1||t<=a+c||(s>=0&&s<=6&&(c===0||c===6)||c>=0&&c<=6&&(s===0||s===6)||s>=2&&s<=4&&c>=2&&c<=4?o.set(r+s,a+c,!0,!0):o.set(r+s,a+c,!1,!0))}}function Lr(o){let e=o.size;for(let t=8;t<e-8;t++){let n=t%2===0;o.set(t,6,n,!0),o.set(6,t,n,!0)}}function Dr(o,e){let t=Tr.getPositions(e);for(let n=0;n<t.length;n++){let i=t[n][0],r=t[n][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?o.set(i+a,r+s,!0,!0):o.set(i+a,r+s,!1,!0)}}function Br(o,e){let t=o.size,n=ft.getEncodedBits(e),i,r,a;for(let s=0;s<18;s++)i=Math.floor(s/3),r=s%3+t-8-3,a=(n>>s&1)===1,o.set(i,r,a,!0),o.set(r,i,a,!0)}function dn(o,e,t){let n=o.size,i=Nr.getEncodedBits(e,t),r,a;for(r=0;r<15;r++)a=(i>>r&1)===1,r<6?o.set(r,8,a,!0):r<8?o.set(r+1,8,a,!0):o.set(n-15+r,8,a,!0),r<8?o.set(8,n-r-1,a,!0):r<9?o.set(8,15-r-1+1,a,!0):o.set(8,15-r-1,a,!0);o.set(n-8,8,1,!0)}function Pr(o,e){let t=o.size,n=-1,i=t-1,r=7,a=0;for(let s=t-1;s>0;s-=2)for(s===6&&s--;;){for(let c=0;c<2;c++)if(!o.isReserved(i,s-c)){let d=!1;a<e.length&&(d=(e[a]>>>r&1)===1),o.set(i,s-c,d),r--,r===-1&&(a++,r=7)}if(i+=n,i<0||t<=i){i-=n,n=-n;break}}}function zr(o,e,t){let n=new Mr;t.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),Wr.getCharCountIndicator(c.mode,o)),c.write(n)});let i=gt.getSymbolTotalCodewords(o),r=hn.getTotalCodewordsCount(o,e),a=(i-r)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let s=(a-n.getLengthInBits())/8;for(let c=0;c<s;c++)n.put(c%2?17:236,8);return Ur(n,o,e)}function Ur(o,e,t){let n=gt.getSymbolTotalCodewords(e),i=hn.getTotalCodewordsCount(e,t),r=n-i,a=hn.getBlocksCount(e,t),s=n%a,c=a-s,d=Math.floor(n/a),u=Math.floor(r/a),w=u+1,h=d-u,f=new Or(h),M=0,b=new Array(a),I=new Array(a),C=0,O=new Uint8Array(o.buffer);for(let g=0;g<a;g++){let y=g<c?u:w;b[g]=O.slice(M,M+y),I[g]=f.encode(b[g]),M+=y,C=Math.max(C,y)}let x=new Uint8Array(n),v=0,E,_;for(E=0;E<C;E++)for(_=0;_<a;_++)E<b[_].length&&(x[v++]=b[_][E]);for(E=0;E<h;E++)for(_=0;_<a;_++)x[v++]=I[_][E];return x}function kr(o,e,t,n){let i;if(Array.isArray(o))i=cn.fromArray(o);else if(typeof o=="string"){let d=e;if(!d){let u=cn.rawSplit(o);d=ft.getBestVersionForData(u,t)}i=cn.fromString(o,d||40)}else throw new Error("Invalid data");let r=ft.getBestVersionForData(i,t);if(!r)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=r;else if(e<r)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+r+`.
`);let a=zr(e,t,i),s=gt.getSymbolSize(e),c=new Cr(s);return xr(c,e),Lr(c),Dr(c,e),dn(c,t,0),e>=7&&Br(c,e),Pr(c,a),isNaN(n)&&(n=un.getBestMask(c,dn.bind(null,c,t))),un.applyMask(n,c),dn(c,t,n),{modules:c,version:e,errorCorrectionLevel:t,maskPattern:n,segments:i}}Go.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=ln.M,i,r;return typeof t<"u"&&(n=ln.from(t.errorCorrectionLevel,ln.M),i=ft.from(t.version),r=un.from(t.maskPattern),t.toSJISFunc&&gt.setToSJISFunction(t.toSJISFunc)),kr(e,i,n,r)}});var fn=S(ce=>{function Qo(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let e=o.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+o);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}ce.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:t,color:{dark:Qo(e.color.dark||"#000000ff"),light:Qo(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};ce.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};ce.getImageWidth=function(e,t){let n=ce.getScale(e,t);return Math.floor((e+t.margin*2)*n)};ce.qrToImageData=function(e,t,n){let i=t.modules.size,r=t.modules.data,a=ce.getScale(i,n),s=Math.floor((i+n.margin*2)*a),c=n.margin*a,d=[n.color.light,n.color.dark];for(let u=0;u<s;u++)for(let w=0;w<s;w++){let h=(u*s+w)*4,f=n.color.light;if(u>=c&&w>=c&&u<s-c&&w<s-c){let M=Math.floor((u-c)/a),b=Math.floor((w-c)/a);f=d[r[M*i+b]?1:0]}e[h++]=f.r,e[h++]=f.g,e[h++]=f.b,e[h]=f.a}}});var Jo=S(pt=>{var gn=fn();function Fr(o,e,t){o.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function jr(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}pt.render=function(e,t,n){let i=n,r=t;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),t||(r=jr()),i=gn.getOptions(i);let a=gn.getImageWidth(e.modules.size,i),s=r.getContext("2d"),c=s.createImageData(a,a);return gn.qrToImageData(c.data,e,i),Fr(s,r,a),s.putImageData(c,0,0),r};pt.renderToDataURL=function(e,t,n){let i=n;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),i||(i={});let r=pt.render(e,t,i),a=i.type||"image/png",s=i.rendererOpts||{};return r.toDataURL(a,s.quality)}});var ei=S(Xo=>{var qr=fn();function Zo(o,e){let t=o.a/255,n=e+'="'+o.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function pn(o,e,t){let n=o+e;return typeof t<"u"&&(n+=" "+t),n}function Kr(o,e,t){let n="",i=0,r=!1,a=0;for(let s=0;s<o.length;s++){let c=Math.floor(s%e),d=Math.floor(s/e);!c&&!r&&(r=!0),o[s]?(a++,s>0&&c>0&&o[s-1]||(n+=r?pn("M",c+t,.5+d+t):pn("m",i,0),i=0,r=!1),c+1<e&&o[s+1]||(n+=pn("h",a),a=0)):i++}return n}Xo.render=function(e,t,n){let i=qr.getOptions(t),r=e.modules.size,a=e.modules.data,s=r+i.margin*2,c=i.color.light.a?"<path "+Zo(i.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",d="<path "+Zo(i.color.dark,"stroke")+' d="'+Kr(a,r,i.margin)+'"/>',u='viewBox="0 0 '+s+" "+s+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+d+`</svg>
`;return typeof n=="function"&&n(null,h),h}});var ni=S(Fe=>{var Vr=oo(),mn=Yo(),ti=Jo(),Hr=ei();function wn(o,e,t,n,i){let r=[].slice.call(arguments,1),a=r.length,s=typeof r[a-1]=="function";if(!s&&!Vr())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(i=t,t=e,e=n=void 0):a===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=t,t=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(t=e,e=n=void 0):a===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(c,d){try{let u=mn.create(t,n);c(o(u,e,n))}catch(u){d(u)}})}try{let c=mn.create(t,n);i(null,o(c,e,n))}catch(c){i(c)}}Fe.create=mn.create;Fe.toCanvas=wn.bind(null,ti.render);Fe.toDataURL=wn.bind(null,ti.renderToDataURL);Fe.toString=wn.bind(null,function(o,e,t){return Hr.render(o,t)})});var Ci=S((nl,Mi)=>{"use strict";function Wa(o){if(o.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<o.length;n++){var i=o.charAt(n),r=i.charCodeAt(0);if(e[r]!==255)throw new TypeError(i+" is ambiguous");e[r]=n}var a=o.length,s=o.charAt(0),c=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var M=0,b=0,I=0,C=f.length;I!==C&&f[I]===0;)I++,M++;for(var O=(C-I)*d+1>>>0,x=new Uint8Array(O);I!==C;){for(var v=f[I],E=0,_=O-1;(v!==0||E<b)&&_!==-1;_--,E++)v+=256*x[_]>>>0,x[_]=v%a>>>0,v=v/a>>>0;if(v!==0)throw new Error("Non-zero carry");b=E,I++}for(var g=O-b;g!==O&&x[g]===0;)g++;for(var y=s.repeat(M);g<O;++g)y+=o.charAt(x[g]);return y}function w(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;for(var M=0,b=0,I=0;f[M]===s;)b++,M++;for(var C=(f.length-M)*c+1>>>0,O=new Uint8Array(C);f[M];){var x=f.charCodeAt(M);if(x>255)return;var v=e[x];if(v===255)return;for(var E=0,_=C-1;(v!==0||E<I)&&_!==-1;_--,E++)v+=a*O[_]>>>0,O[_]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");I=E,M++}for(var g=C-I;g!==C&&O[g]===0;)g++;for(var y=new Uint8Array(b+(C-g)),N=b;g!==C;)y[N++]=O[g++];return y}function h(f){var M=w(f);if(M)return M;throw new Error("Non-base"+a+" character")}return{encode:u,decodeUnsafe:w,decode:h}}Mi.exports=Wa});var Ii=S((ol,Ti)=>{var xa=Ci(),La="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Ti.exports=xa(La)});var Q="solana:signAndSendTransaction";var ot="solana:signIn";var it="solana:signMessage";var J="solana:signTransaction";var Ni=to(ni(),1);var _n="solana:mainnet";var $r="(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n",Gr="(?<address>[^\\n]+)(?:\\n|$)",Yr="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??",Qr="(?:\\nURI: (?<uri>[^\\n]+))?",Jr="(?:\\nVersion: (?<version>[^\\n]+))?",Zr="(?:\\nChain ID: (?<chainId>[^\\n]+))?",Xr="(?:\\nNonce: (?<nonce>[^\\n]+))?",ea="(?:\\nIssued At: (?<issuedAt>[^\\n]+))?",ta="(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?",na="(?:\\nNot Before: (?<notBefore>[^\\n]+))?",oa="(?:\\nRequest ID: (?<requestId>[^\\n]+))?",ia="(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?",ra=`${Qr}${Jr}${Zr}${Xr}${ea}${ta}${na}${oa}${ia}`,Fs=new RegExp(`^${$r}${Gr}${Yr}${ra}\\n*$`);function oi(o){let e=`${o.domain} wants you to sign in with your Solana account:
`;e+=`${o.address}`,o.statement&&(e+=`

${o.statement}`);let t=[];if(o.uri&&t.push(`URI: ${o.uri}`),o.version&&t.push(`Version: ${o.version}`),o.chainId&&t.push(`Chain ID: ${o.chainId}`),o.nonce&&t.push(`Nonce: ${o.nonce}`),o.issuedAt&&t.push(`Issued At: ${o.issuedAt}`),o.expirationTime&&t.push(`Expiration Time: ${o.expirationTime}`),o.notBefore&&t.push(`Not Before: ${o.notBefore}`),o.requestId&&t.push(`Request ID: ${o.requestId}`),o.resources){t.push("Resources:");for(let n of o.resources)t.push(`- ${n}`)}return t.length&&(e+=`

${t.join(`
`)}`),e}function ii(o){return Object.freeze({...o,decode:(e,t=0)=>o.read(e,t)[0]})}var aa=o=>ii({read(e,t){let n=t===0?e:e.slice(t);if(n.length===0)return["",0];let i=n.findIndex(c=>c!==0);i=i===-1?n.length:i;let r=o[0].repeat(i);if(i===n.length)return[r,e.length];let a=n.slice(i).reduce((c,d)=>c*256n+BigInt(d),0n),s=sa(a,o);return[r+s,e.length]}});function sa(o,e){let t=BigInt(e.length),n=[];for(;o>0n;)n.unshift(e[Number(o%t)]),o/=t;return n.join("")}var la="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var ri=()=>aa(la);var $s=globalThis.TextDecoder,Gs=globalThis.TextEncoder;var j={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION",ERROR_BROWSER_NOT_SUPPORTED:"ERROR_BROWSER_NOT_SUPPORTED"},U=class extends Error{constructor(...e){let[t,n,i]=e;super(n),this.code=t,this.data=i,this.name="SolanaMobileWalletAdapterError"}};var qe=class extends Error{constructor(...e){let[t,n,i,r]=e;super(i),this.code=n,this.data=r,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}};function R(o,e,t,n){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function s(u){try{d(n.next(u))}catch(w){a(w)}}function c(u){try{d(n.throw(u))}catch(w){a(w)}}function d(u){u.done?r(u.value):i(u.value).then(s,c)}d((n=n.apply(o,e||[])).next())})}function ca(o){return window.btoa(o)}function Ke(o,e){let t=window.btoa(String.fromCharCode.call(null,...o));return e?t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):t}function bn(o){return new Uint8Array(window.atob(o).split("").map(e=>e.charCodeAt(0)))}function mt(o,e){return R(this,void 0,void 0,function*(){let t=yield crypto.subtle.exportKey("raw",o),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,t),i=new Uint8Array(t.byteLength+n.byteLength);return i.set(new Uint8Array(t),0),i.set(new Uint8Array(n),t.byteLength),i})}function da(o){return oi(o)}function ua(o){return ca(da(o)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}var ha="solana:signTransactions",ai="solana:cloneAuthorization";function fa(o){return ri().decode(o)}function ga(o){return fa(bn(o))}function ci(o,e){return new Proxy({},{get(t,n){return n==="then"?null:(t[n]==null&&(t[n]=function(i){return R(this,void 0,void 0,function*(){let{method:r,params:a}=pa(n,i,o),s=yield e(r,a);return r==="authorize"&&a.sign_in_payload&&!s.sign_in_result&&(s.sign_in_result=yield wa(a.sign_in_payload,s,e)),ma(n,s,o)})}),t[n])},defineProperty(){return!1},deleteProperty(){return!1}})}function pa(o,e,t){let n=e,i=o.toString().replace(/[A-Z]/g,r=>`_${r.toLowerCase()}`).toLowerCase();switch(o){case"authorize":{let{chain:r}=n;if(t==="legacy"){switch(r){case"solana:testnet":{r="testnet";break}case"solana:devnet":{r="devnet";break}case"solana:mainnet":{r="mainnet-beta";break}default:r=n.cluster}n.cluster=r}else{switch(r){case"testnet":case"devnet":{r=`solana:${r}`;break}case"mainnet-beta":{r="solana:mainnet";break}}n.chain=r}}case"reauthorize":{let{auth_token:r,identity:a}=n;if(r)switch(t){case"legacy":{i="reauthorize",n={auth_token:r,identity:a};break}default:{i="authorize";break}}break}}return{method:i,params:n}}function ma(o,e,t){switch(o){case"getCapabilities":{let n=e;switch(t){case"legacy":{let i=[ha];return n.supports_clone_authorization===!0&&i.push(ai),Object.assign(Object.assign({},n),{features:i})}case"v1":return Object.assign(Object.assign({},n),{supports_sign_and_send_transactions:!0,supports_clone_authorization:n.features.includes(ai)})}}}return e}function wa(o,e,t){var n;return R(this,void 0,void 0,function*(){let i=(n=o.domain)!==null&&n!==void 0?n:window.location.host,r=e.accounts[0].address,a=ua(Object.assign(Object.assign({},o),{domain:i,address:ga(r)})),s=yield t("sign_messages",{addresses:[r],payloads:[a]}),c=bn(s.signed_payloads[0]),d=Ke(c.slice(0,c.length-64)),u=Ke(c.slice(c.length-64));return{address:r,signed_message:d.length==0?a:d,signature:u}})}var G=4;function _a(o){if(o>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");let e=new ArrayBuffer(G);return new DataView(e).setUint32(0,o,!1),new Uint8Array(e)}var En=12,vn=65;function ya(o,e,t){return R(this,void 0,void 0,function*(){let n=_a(e),i=new Uint8Array(En);crypto.getRandomValues(i);let r=yield crypto.subtle.encrypt(ui(n,i),t,new TextEncoder().encode(o)),a=new Uint8Array(n.byteLength+i.byteLength+r.byteLength);return a.set(new Uint8Array(n),0),a.set(new Uint8Array(i),n.byteLength),a.set(new Uint8Array(r),n.byteLength+i.byteLength),a})}function di(o,e){return R(this,void 0,void 0,function*(){let t=o.slice(0,G),n=o.slice(G,G+En),i=o.slice(G+En),r=yield crypto.subtle.decrypt(ui(t,n),e,i);return Ea().decode(r)})}function ui(o,e){return{additionalData:o,iv:e,name:"AES-GCM",tagLength:128}}var yn;function Ea(){return yn===void 0&&(yn=new TextDecoder("utf-8")),yn}function hi(){return R(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function wt(){return R(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function fi(o){let e="",t=new Uint8Array(o),n=t.byteLength;for(let i=0;i<n;i++)e+=String.fromCharCode(t[i]);return window.btoa(e)}function ba(){return gi(49152+Math.floor(Math.random()*16384))}function gi(o){if(o<49152||o>65535)throw new U(j.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${o} given.`,{port:o});return o}function pi(o){return o.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}var va="solana-wallet";function si(o){return o.replace(/(^\/+|\/+$)/g,"").split("/")}function mi(o,e){let t=null;if(e){try{t=new URL(e)}catch{}if(t?.protocol!=="https:")throw new U(j.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}t||(t=new URL(`${va}:/`));let n=o.startsWith("/")?o:[...si(t.pathname),...si(o)].join("/");return new URL(n,t)}function Sa(o,e,t,n=["v1"]){return R(this,void 0,void 0,function*(){let i=gi(e),r=yield crypto.subtle.exportKey("raw",o),a=fi(r),s=mi("v1/associate/local",t);return s.searchParams.set("association",pi(a)),s.searchParams.set("port",`${i}`),n.forEach(c=>{s.searchParams.set("v",c)}),s})}function Aa(o,e,t,n,i=["v1"]){return R(this,void 0,void 0,function*(){let r=yield crypto.subtle.exportKey("raw",o),a=fi(r),s=mi("v1/associate/remote",n);return s.searchParams.set("association",pi(a)),s.searchParams.set("reflector",`${e}`),s.searchParams.set("id",`${Ke(t,!0)}`),i.forEach(c=>{s.searchParams.set("v",c)}),s})}function wi(o,e){return R(this,void 0,void 0,function*(){let t=JSON.stringify(o),n=o.id;return ya(t,n,e)})}function _i(o,e){return R(this,void 0,void 0,function*(){let t=yield di(o,e),n=JSON.parse(t);if(Object.hasOwnProperty.call(n,"error"))throw new qe(n.id,n.error.code,n.error.message);return n})}function yi(o,e,t){return R(this,void 0,void 0,function*(){let[n,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",o.slice(0,vn),{name:"ECDH",namedCurve:"P-256"},!1,[])]),r=yield crypto.subtle.deriveBits({name:"ECDH",public:i},t,256),a=yield crypto.subtle.importKey("raw",r,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},a,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function Ei(o,e){return R(this,void 0,void 0,function*(){let t=yield di(o,e),n=JSON.parse(t),i="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new U(j.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:i}})}var _t={Firefox:0,Other:1};function Ra(){return navigator.userAgent.indexOf("Firefox/")!==-1?_t.Firefox:_t.Other}function Ma(){return new Promise((o,e)=>{function t(){clearTimeout(i),window.removeEventListener("blur",n)}function n(){t(),o()}window.addEventListener("blur",n);let i=setTimeout(()=>{t(),e()},3e3)})}var je=null;function Ca(o){je==null&&(je=document.createElement("iframe"),je.style.display="none",document.body.appendChild(je)),je.contentWindow.location.href=o.toString()}function Ta(o){return R(this,void 0,void 0,function*(){if(o.protocol==="https:")window.location.assign(o);else try{let e=Ra();switch(e){case _t.Firefox:Ca(o);break;case _t.Other:{let t=Ma();window.location.assign(o),yield t;break}default:}}catch{throw new U(j.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function Ia(o,e){return R(this,void 0,void 0,function*(){let t=ba(),n=yield Sa(o,t,e);return yield Ta(n),t})}var yt={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},bi="com.solana.mobilewalletadapter.v1",li="com.solana.mobilewalletadapter.v1.base64";function vi(){if(typeof window>"u"||window.isSecureContext!==!0)throw new U(j.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function Si(o){let e;try{e=new URL(o)}catch{throw new U(j.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new U(j.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function Et(o){return new DataView(o).getUint32(0,!1)}function Oa(o){var e=new Uint8Array(o),t=o.byteLength,n=10,i=0,r=0,a;do{if(r>=t||r>n)throw new RangeError("Failed to decode varint");a=e[r++],i|=(a&127)<<7*r}while(a>=128);return{value:i,offset:r}}function Na(o){let{value:e,offset:t}=Oa(o);return new Uint8Array(o.slice(t,t+e))}function Ai(o,e){return R(this,void 0,void 0,function*(){vi();let t=yield hi(),i=`ws://localhost:${yield Ia(t.publicKey,e?.baseUri)}/solana-wallet`,r,a=(()=>{let u=[...yt.retryDelayScheduleMs];return()=>u.length>1?u.shift():u[0]})(),s=1,c=0,d={__type:"disconnected"};return new Promise((u,w)=>{let h,f={},M=()=>R(this,void 0,void 0,function*(){if(d.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${d.__type}\`.`);return}h.removeEventListener("open",M);let{associationKeypair:E}=d,_=yield wt();h.send(yield mt(_.publicKey,E.privateKey)),d={__type:"hello_req_sent",associationPublicKey:E.publicKey,ecdhPrivateKey:_.privateKey}}),b=E=>{E.wasClean?d={__type:"disconnected"}:w(new U(j.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${E.code}: ${E.reason}).`,{closeEvent:E})),O()},I=E=>R(this,void 0,void 0,function*(){O(),Date.now()-r>=yt.timeoutMs?w(new U(j.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(_=>{let g=a();x=window.setTimeout(_,g)}),v())}),C=E=>R(this,void 0,void 0,function*(){let _=yield E.data.arrayBuffer();switch(d.__type){case"connecting":if(_.byteLength!==0)throw new Error("Encountered unexpected message while connecting");let g=yield wt();h.send(yield mt(g.publicKey,t.privateKey)),d={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:g.privateKey};break;case"connected":try{let y=_.slice(0,G),N=Et(y);if(N!==c+1)throw new Error("Encrypted message has invalid sequence number");c=N;let k=yield _i(_,d.sharedSecret),V=f[k.id];delete f[k.id],V.resolve(k.result)}catch(y){if(y instanceof qe){let N=f[y.jsonRpcMessageId];delete f[y.jsonRpcMessageId],N.reject(y)}else throw y}break;case"hello_req_sent":{if(_.byteLength===0){let D=yield wt();h.send(yield mt(D.publicKey,t.privateKey)),d={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:D.privateKey};break}let y=yield yi(_,d.associationPublicKey,d.ecdhPrivateKey),N=_.slice(vn),k=N.byteLength!==0?yield R(this,void 0,void 0,function*(){let D=N.slice(0,G),H=Et(D);if(H!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=H,Ei(N,y)}):{protocol_version:"legacy"};d={__type:"connected",sharedSecret:y,sessionProperties:k};let V=ci(k.protocol_version,(D,H)=>R(this,void 0,void 0,function*(){let Oe=s++;return h.send(yield wi({id:Oe,jsonrpc:"2.0",method:D,params:H??{}},y)),new Promise((Ht,Ne)=>{f[Oe]={resolve(We){switch(D){case"authorize":case"reauthorize":{let{wallet_uri_base:xe}=We;if(xe!=null)try{Si(xe)}catch($t){Ne($t);return}break}}Ht(We)},reject:Ne}})}));try{u(yield o(V))}catch(D){w(D)}finally{O(),h.close()}break}}}),O,x,v=()=>{O&&O(),d={__type:"connecting",associationKeypair:t},r===void 0&&(r=Date.now()),h=new WebSocket(i,[bi]),h.addEventListener("open",M),h.addEventListener("close",b),h.addEventListener("error",I),h.addEventListener("message",C),O=()=>{window.clearTimeout(x),h.removeEventListener("open",M),h.removeEventListener("close",b),h.removeEventListener("error",I),h.removeEventListener("message",C)}};v()})})}function Ri(o){return R(this,void 0,void 0,function*(){vi();let e=yield hi(),t=`wss://${o?.remoteHostAuthority}/reflect`,n,i=(()=>{let b=[...yt.retryDelayScheduleMs];return()=>b.length>1?b.shift():b[0]})(),r=1,a=0,s,c={__type:"disconnected"},d,u,w=b=>R(this,void 0,void 0,function*(){if(s=="base64"){let I=yield b.data;return bn(I).buffer}else return yield b.data.arrayBuffer()}),h=yield new Promise((b,I)=>{let C=()=>R(this,void 0,void 0,function*(){if(c.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);return}d.protocol.includes(li)?s="base64":s="binary",d.removeEventListener("open",C)}),O=g=>{g.wasClean?c={__type:"disconnected"}:I(new U(j.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${g.code}: ${g.reason}).`,{closeEvent:g})),u()},x=g=>R(this,void 0,void 0,function*(){u(),Date.now()-n>=yt.timeoutMs?I(new U(j.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${t}.`)):(yield new Promise(y=>{let N=i();E=window.setTimeout(y,N)}),_())}),v=g=>R(this,void 0,void 0,function*(){let y=yield w(g);if(c.__type==="connecting"){if(y.byteLength==0)throw new Error("Encountered unexpected message while connecting");let N=Na(y);c={__type:"reflector_id_received",reflectorId:N};let k=yield Aa(e.publicKey,o.remoteHostAuthority,N,o?.baseUri);d.removeEventListener("message",v),b(k)}}),E,_=()=>{u&&u(),c={__type:"connecting",associationKeypair:e},n===void 0&&(n=Date.now()),d=new WebSocket(t,[bi,li]),d.addEventListener("open",C),d.addEventListener("close",O),d.addEventListener("error",x),d.addEventListener("message",v),u=()=>{window.clearTimeout(E),d.removeEventListener("open",C),d.removeEventListener("close",O),d.removeEventListener("error",x),d.removeEventListener("message",v)}};_()}),f=!1,M;return{associationUrl:h,close:()=>{d.close(),M()},wallet:new Promise((b,I)=>{let C={},O=x=>R(this,void 0,void 0,function*(){let v=yield w(x);switch(c.__type){case"reflector_id_received":if(v.byteLength!==0)throw new Error("Encountered unexpected message while awaiting reflection");let E=yield wt(),_=yield mt(E.publicKey,e.privateKey);s=="base64"?d.send(Ke(_)):d.send(_),c={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:E.privateKey};break;case"connected":try{let g=v.slice(0,G),y=Et(g);if(y!==a+1)throw new Error("Encrypted message has invalid sequence number");a=y;let N=yield _i(v,c.sharedSecret),k=C[N.id];delete C[N.id],k.resolve(N.result)}catch(g){if(g instanceof qe){let y=C[g.jsonRpcMessageId];delete C[g.jsonRpcMessageId],y.reject(g)}else throw g}break;case"hello_req_sent":{let g=yield yi(v,c.associationPublicKey,c.ecdhPrivateKey),y=v.slice(vn),N=y.byteLength!==0?yield R(this,void 0,void 0,function*(){let V=y.slice(0,G),D=Et(V);if(D!==a+1)throw new Error("Encrypted message has invalid sequence number");return a=D,Ei(y,g)}):{protocol_version:"legacy"};c={__type:"connected",sharedSecret:g,sessionProperties:N};let k=ci(N.protocol_version,(V,D)=>R(this,void 0,void 0,function*(){let H=r++,Oe=yield wi({id:H,jsonrpc:"2.0",method:V,params:D??{}},g);return s=="base64"?d.send(Ke(Oe)):d.send(Oe),new Promise((Ht,Ne)=>{C[H]={resolve(We){switch(V){case"authorize":case"reauthorize":{let{wallet_uri_base:xe}=We;if(xe!=null)try{Si(xe)}catch($t){Ne($t);return}break}}Ht(We)},reject:Ne}})}));f=!0;try{b(k)}catch(V){I(V)}break}}});d.addEventListener("message",O),M=()=>{d.removeEventListener("message",O),u(),f||I(new U(j.ERROR_SESSION_CLOSED,"The wallet session was closed before connection.",{closeEvent:new CloseEvent("socket was closed before connection")}))}})}})}var Sn="standard:connect";var An="standard:disconnect";var Rn="standard:events";var Te=to(Ii(),1);function p(o,e,t,n){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function s(u){try{d(n.next(u))}catch(w){a(w)}}function c(u){try{d(n.throw(u))}catch(w){a(w)}}function d(u){u.done?r(u.value):i(u.value).then(s,c)}d((n=n.apply(o,e||[])).next())})}function l(o,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!n:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(o):n?n.value:e.get(o)}function m(o,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?o!==e||!i:!e.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(o,t):i?i.value=t:e.set(o,t),t}var Ve,L,de,Ee,Wi,xi,Li,bt,Da=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,Ba=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,Pa=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`,qt=class{constructor(){Ve.add(this),L.set(this,null),de.set(this,{}),Ee.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),l(this,Ve,"m",xi).call(this),l(this,L,"f")&&(l(this,L,"f").style.display="flex")},this.close=(e=void 0)=>{var t;console.debug("Modal close"),l(this,Ve,"m",Li).call(this),l(this,L,"f")&&(l(this,L,"f").style.display="none"),(t=l(this,de,"f").close)===null||t===void 0||t.forEach(n=>n(e))},bt.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),m(this,L,document.getElementById("mobile-wallet-adapter-embedded-root-ui"),"f")}init(){return p(this,void 0,void 0,function*(){console.log("Injecting modal"),l(this,Ve,"m",Wi).call(this)})}addEventListener(e,t){var n;return!((n=l(this,de,"f")[e])===null||n===void 0)&&n.push(t)||(l(this,de,"f")[e]=[t]),()=>this.removeEventListener(e,t)}removeEventListener(e,t){var n;l(this,de,"f")[e]=(n=l(this,de,"f")[e])===null||n===void 0?void 0:n.filter(i=>t!==i)}};L=new WeakMap,de=new WeakMap,Ee=new WeakMap,bt=new WeakMap,Ve=new WeakSet,Wi=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){l(this,L,"f")||m(this,L,document.getElementById("mobile-wallet-adapter-embedded-root-ui"),"f");return}m(this,L,document.createElement("div"),"f"),l(this,L,"f").id="mobile-wallet-adapter-embedded-root-ui",l(this,L,"f").innerHTML=Da,l(this,L,"f").style.display="none";let e=l(this,L,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);let t=document.createElement("style");t.id="mobile-wallet-adapter-embedded-modal-styles",t.textContent=Ba+this.contentStyles;let n=document.createElement("div");n.innerHTML=Pa,this.dom=n.attachShadow({mode:"closed"}),this.dom.appendChild(t),this.dom.appendChild(l(this,L,"f")),document.body.appendChild(n)},xi=function(){if(!l(this,L,"f")||l(this,Ee,"f"))return;[...l(this,L,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t?.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",l(this,bt,"f")),m(this,Ee,!0,"f")},Li=function(){if(!l(this,Ee,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",l(this,bt,"f")),!l(this,L,"f")))return;[...l(this,L,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t?.removeEventListener("click",this.close)),m(this,Ee,!1,"f")};var Cn=class extends qt{constructor(){super(...arguments),this.contentStyles=Ua,this.contentHtml=za}initWithQR(e){let t=Object.create(null,{init:{get:()=>super.init}});return p(this,void 0,void 0,function*(){t.init.call(this),this.populateQRCode(e)})}populateQRCode(e){var t;return p(this,void 0,void 0,function*(){let n=(t=this.dom)===null||t===void 0?void 0:t.getElementById("mobile-wallet-adapter-embedded-modal-qr-code-container");if(n){let i=yield Ni.default.toCanvas(e,{width:200,margin:0});n.firstElementChild!==null?n.replaceChild(i,n.firstElementChild):n.appendChild(i)}else console.error("QRCode Container not found")})}},za=`
<div class="mobile-wallet-adapter-embedded-modal-qr-content">
    <div>
        <svg class="mobile-wallet-adapter-embedded-modal-icon" width="100%" height="100%">
            <circle r="52" cx="53" cy="53" fill="#99b3be" stroke="#000000" stroke-width="2"/>
            <path d="m 53,82.7305 c -3.3116,0 -6.1361,-1.169 -8.4735,-3.507 -2.338,-2.338 -3.507,-5.1625 -3.507,-8.4735 0,-3.3116 1.169,-6.1364 3.507,-8.4744 2.3374,-2.338 5.1619,-3.507 8.4735,-3.507 3.3116,0 6.1361,1.169 8.4735,3.507 2.338,2.338 3.507,5.1628 3.507,8.4744 0,3.311 -1.169,6.1355 -3.507,8.4735 -2.3374,2.338 -5.1619,3.507 -8.4735,3.507 z m 0.007,-5.25 c 1.8532,0 3.437,-0.6598 4.7512,-1.9793 1.3149,-1.3195 1.9723,-2.9058 1.9723,-4.7591 0,-1.8526 -0.6598,-3.4364 -1.9793,-4.7512 -1.3195,-1.3149 -2.9055,-1.9723 -4.7582,-1.9723 -1.8533,0 -3.437,0.6598 -4.7513,1.9793 -1.3148,1.3195 -1.9722,2.9058 -1.9722,4.7591 0,1.8527 0.6597,3.4364 1.9792,4.7512 1.3195,1.3149 2.9056,1.9723 4.7583,1.9723 z m -28,-33.5729 -3.85,-3.6347 c 4.1195,-4.025 8.8792,-7.1984 14.2791,-9.52 5.4005,-2.3223 11.2551,-3.4834 17.5639,-3.4834 6.3087,0 12.1634,1.1611 17.5639,3.4834 5.3999,2.3216 10.1596,5.495 14.2791,9.52 l -3.85,3.6347 C 77.2999,40.358 73.0684,37.5726 68.2985,35.5514 63.5292,33.5301 58.4296,32.5195 53,32.5195 c -5.4297,0 -10.5292,1.0106 -15.2985,3.0319 -4.7699,2.0212 -9.0014,4.8066 -12.6945,8.3562 z m 44.625,10.8771 c -2.2709,-2.1046 -4.7962,-3.7167 -7.5758,-4.8361 -2.7795,-1.12 -5.7983,-1.68 -9.0562,-1.68 -3.2579,0 -6.2621,0.56 -9.0125,1.68 -2.7504,1.1194 -5.2903,2.7315 -7.6195,4.8361 L 32.5189,51.15 c 2.8355,-2.6028 5.9777,-4.6086 9.4263,-6.0174 3.4481,-1.4087 7.133,-2.1131 11.0548,-2.1131 3.9217,0 7.5979,0.7044 11.0285,2.1131 3.43,1.4088 6.5631,3.4146 9.3992,6.0174 z"/>
        </svg>
        <div class="mobile-wallet-adapter-embedded-modal-title">Remote Mobile Wallet Adapter</div>
    </div>
    <div>
        <div>
            <h4 class="mobile-wallet-adapter-embedded-modal-qr-label">
                Open your wallet and scan this code
            </h4>
        </div>
        <div id="mobile-wallet-adapter-embedded-modal-qr-code-container" class="mobile-wallet-adapter-embedded-modal-qr-code-container"></div>
    </div>
</div>
<div class="mobile-wallet-adapter-embedded-modal-divider"><hr></div>
<div class="mobile-wallet-adapter-embedded-modal-footer">
    <div class="mobile-wallet-adapter-embedded-modal-subtitle">
        Follow the instructions on your device. When you're finished, this screen will update.
    </div>
    <div class="mobile-wallet-adapter-embedded-modal-progress-badge">
        <div>
            <div class="spinner">
                <div class="leftWrapper">
                    <div class="left">
                        <div class="circle"></div>
                    </div>
                </div>
                <div class="rightWrapper">
                    <div class="right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
        <div>Waiting for scan</div>
    </div>
</div>
`,Ua=`
.mobile-wallet-adapter-embedded-modal-qr-content {
    display: flex; 
    margin-top: 10px;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
    display: flex;
    flex-direction: column;
    flex: 2;
    margin-top: auto;
    margin-right: 30px;
}

.mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
    display: flex;
    flex-direction: column;
    flex: 1;
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-footer {
    display: flex;
    padding: 10px;
}

.mobile-wallet-adapter-embedded-modal-icon {}

.mobile-wallet-adapter-embedded-modal-title {
    color: #000000;
    font-size: 2.5em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-qr-label {
    text-align: right;
    color: #000000;
}

.mobile-wallet-adapter-embedded-modal-qr-code-container {
    margin-left: auto;
}

.mobile-wallet-adapter-embedded-modal-divider {
    margin-top: 20px;
    padding-left: 10px;
    padding-right: 10px;
}

.mobile-wallet-adapter-embedded-modal-divider hr {
    border-top: 1px solid #D9DEDE;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: auto;
    margin-right: 60px;
    padding: 20px;
    color: #6E8286;
}

.mobile-wallet-adapter-embedded-modal-progress-badge {
    display: flex;
    background: #F7F8F8;
    height: 56px;
    min-width: 200px;
    margin: auto;
    padding-left: 20px;
    padding-right: 20px;
    border-radius: 18px;
    color: #A8B6B8;
    align-items: center;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:first-child {
    margin-left: auto;
    margin-right: 20px;
}

.mobile-wallet-adapter-embedded-modal-progress-badge > div:nth-child(2) {
    margin-right: auto;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-card {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:first-child {
        margin: auto;
    }
    .mobile-wallet-adapter-embedded-modal-qr-content > div:nth-child(2) {
        margin: auto;
        flex: 2 auto;
    }
    .mobile-wallet-adapter-embedded-modal-footer {
        flex-direction: column;
    }
    .mobile-wallet-adapter-embedded-modal-icon {
        display: none;
    }
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: unset;
    }
    .mobile-wallet-adapter-embedded-modal-qr-label {
        text-align: center;
    }
    .mobile-wallet-adapter-embedded-modal-qr-code-container {
        margin: auto;
    }
}

/* Spinner */
@keyframes spinLeft {
    0% {
        transform: rotate(20deg);
    }
    50% {
        transform: rotate(160deg);
    }
    100% {
        transform: rotate(20deg);
    }
}
@keyframes spinRight {
    0% {
        transform: rotate(160deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(160deg);
    }
}
@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(2520deg);
    }
}

.spinner {
    position: relative;
    width: 1.5em;
    height: 1.5em;
    margin: auto;
    animation: spin 10s linear infinite;
}
.spinner::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
.right, .rightWrapper, .left, .leftWrapper {
    position: absolute;
    top: 0;
    overflow: hidden;
    width: .75em;
    height: 1.5em;
}
.left, .leftWrapper {
    left: 0;
}
.right {
    left: -12px;
}
.rightWrapper {
    right: 0;
}
.circle {
    border: .125em solid #A8B6B8;
    width: 1.25em; /* 1.5em - 2*0.125em border */
    height: 1.25em; /* 1.5em - 2*0.125em border */
    border-radius: 0.75em; /* 0.5*1.5em spinner size 8 */
}
.left {
    transform-origin: 100% 50%;
    animation: spinLeft 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
.right {
    transform-origin: 100% 50%;
    animation: spinRight 2.5s cubic-bezier(.2,0,.8,1) infinite;
}
`,Di="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function re(o){return window.btoa(String.fromCharCode.call(null,...o))}function z(o){return new Uint8Array(window.atob(o).split("").map(e=>e.charCodeAt(0)))}var be,fe,Tn,In,On,Nn,He,B,Y,ne,ve,ue,vt,$e,St,Wn,At,Bi,xn,Rt,Se,Mt,Ge,Ct,Ae,Ye,Tt,Ln,Dn,It,Ot,Bn,Pn,Nt,Re,ge,zn,Un,kn,Fn,Qe,P,oe,ie,Me,he,Wt,Je,xt,Lt,q,jn,Dt,Pi,qn,Bt,Ze,Kn,Xe,Pt,Ce,et,zt,Vn,Hn,Ut,kt,$n,Gn,Ft,ka="Mobile Wallet Adapter",Fa="Remote Mobile Wallet Adapter",zi=64,Ui=[Q,J,it,ot],Yn=class{constructor(e){be.add(this),fe.set(this,{}),Tn.set(this,"1.0.0"),In.set(this,ka),On.set(this,"https://solanamobile.com/wallets"),Nn.set(this,Di),He.set(this,void 0),B.set(this,void 0),Y.set(this,void 0),ne.set(this,!1),ve.set(this,0),ue.set(this,[]),vt.set(this,void 0),$e.set(this,void 0),St.set(this,void 0),Wn.set(this,(t,n)=>{var i;return!((i=l(this,fe,"f")[t])===null||i===void 0)&&i.push(n)||(l(this,fe,"f")[t]=[n]),()=>l(this,be,"m",Bi).call(this,t,n)}),xn.set(this,({silent:t}={})=>p(this,void 0,void 0,function*(){if(l(this,ne,"f")||this.connected)return{accounts:this.accounts};m(this,ne,!0,"f");try{if(t){let n=yield l(this,Y,"f").get();if(n)yield l(this,Mt,"f").call(this,n.capabilities),yield l(this,Se,"f").call(this,n);else return{accounts:this.accounts}}else yield l(this,Rt,"f").call(this)}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}finally{m(this,ne,!1,"f")}return{accounts:this.accounts}})),Rt.set(this,t=>p(this,void 0,void 0,function*(){try{let n=yield l(this,Y,"f").get();if(n)return l(this,Se,"f").call(this,n),n;let i=yield l(this,vt,"f").select(l(this,ue,"f"));return yield l(this,Ae,"f").call(this,r=>p(this,void 0,void 0,function*(){let[a,s]=yield Promise.all([r.getCapabilities(),r.authorize({chain:i,identity:l(this,He,"f"),sign_in_payload:t})]),c=l(this,Tt,"f").call(this,s.accounts),d=Object.assign(Object.assign({},s),{accounts:c,chain:i,capabilities:a});return Promise.all([l(this,Mt,"f").call(this,a),l(this,Y,"f").set(d),l(this,Se,"f").call(this,d)]),d}))}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}})),Se.set(this,t=>p(this,void 0,void 0,function*(){var n;let i=l(this,B,"f")==null||((n=l(this,B,"f"))===null||n===void 0?void 0:n.accounts.length)!==t.accounts.length||l(this,B,"f").accounts.some((r,a)=>r.address!==t.accounts[a].address);m(this,B,t,"f"),i&&l(this,be,"m",At).call(this,"change",{accounts:this.accounts})})),Mt.set(this,t=>p(this,void 0,void 0,function*(){let n=t.features.includes("solana:signTransactions"),i=t.supports_sign_and_send_transactions,r=Q in this.features!==i||J in this.features!==n;m(this,$e,Object.assign(Object.assign({},(i||!i&&!n)&&{[Q]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:l(this,It,"f")}}),n&&{[J]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:l(this,Ot,"f")}}),"f"),r&&l(this,be,"m",At).call(this,"change",{features:this.features})})),Ge.set(this,(t,n,i)=>p(this,void 0,void 0,function*(){var r,a;try{let[s,c]=yield Promise.all([(a=(r=l(this,B,"f"))===null||r===void 0?void 0:r.capabilities)!==null&&a!==void 0?a:yield t.getCapabilities(),t.authorize({auth_token:n,identity:l(this,He,"f"),chain:i})]),d=l(this,Tt,"f").call(this,c.accounts),u=Object.assign(Object.assign({},c),{accounts:d,chain:i,capabilities:s});Promise.all([l(this,Y,"f").set(u),l(this,Se,"f").call(this,u)])}catch(s){throw l(this,Ct,"f").call(this),new Error(s instanceof Error&&s.message||"Unknown error")}})),Ct.set(this,()=>p(this,void 0,void 0,function*(){var t;l(this,Y,"f").clear(),m(this,ne,!1,"f"),m(this,ve,(t=l(this,ve,"f"),t++,t),"f"),m(this,B,void 0,"f"),l(this,be,"m",At).call(this,"change",{accounts:this.accounts})})),Ae.set(this,t=>p(this,void 0,void 0,function*(){var n;let i=(n=l(this,B,"f"))===null||n===void 0?void 0:n.wallet_uri_base,r=i?{baseUri:i}:void 0,a=l(this,ve,"f");try{return yield Ai(t,r)}catch(s){throw l(this,ve,"f")!==a&&(yield new Promise(()=>{})),s instanceof Error&&s.name==="SolanaMobileWalletAdapterError"&&s.code==="ERROR_WALLET_NOT_FOUND"&&(yield l(this,St,"f").call(this,this)),s}})),Ye.set(this,()=>{if(!l(this,B,"f"))throw new Error("Wallet not connected");return{authToken:l(this,B,"f").auth_token,chain:l(this,B,"f").chain}}),Tt.set(this,t=>t.map(n=>{var i,r;let a=z(n.address);return{address:Te.default.encode(a),publicKey:a,label:n.label,icon:n.icon,chains:(i=n.chains)!==null&&i!==void 0?i:l(this,ue,"f"),features:(r=n.features)!==null&&r!==void 0?r:Ui}})),Ln.set(this,t=>p(this,void 0,void 0,function*(){let{authToken:n,chain:i}=l(this,Ye,"f").call(this);try{let r=t.map(a=>re(a));return yield l(this,Ae,"f").call(this,a=>p(this,void 0,void 0,function*(){return yield l(this,Ge,"f").call(this,a,n,i),(yield a.signTransactions({payloads:r})).signed_payloads.map(z)}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Dn.set(this,(t,n)=>p(this,void 0,void 0,function*(){let{authToken:i,chain:r}=l(this,Ye,"f").call(this);try{return yield l(this,Ae,"f").call(this,a=>p(this,void 0,void 0,function*(){let[s,c]=yield Promise.all([a.getCapabilities(),l(this,Ge,"f").call(this,a,i,r)]);if(s.supports_sign_and_send_transactions){let d=re(t);return(yield a.signAndSendTransactions(Object.assign(Object.assign({},n),{payloads:[d]}))).signatures.map(z)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),It.set(this,(...t)=>p(this,void 0,void 0,function*(){let n=[];for(let i of t){let r=yield l(this,Dn,"f").call(this,i.transaction,i.options);n.push({signature:r})}return n})),Ot.set(this,(...t)=>p(this,void 0,void 0,function*(){return(yield l(this,Ln,"f").call(this,t.map(({transaction:n})=>n))).map(n=>({signedTransaction:n}))})),Bn.set(this,(...t)=>p(this,void 0,void 0,function*(){let{authToken:n,chain:i}=l(this,Ye,"f").call(this),r=t.map(({account:s})=>re(s.publicKey)),a=t.map(({message:s})=>re(s));try{return yield l(this,Ae,"f").call(this,s=>p(this,void 0,void 0,function*(){return yield l(this,Ge,"f").call(this,s,n,i),(yield s.signMessages({addresses:r,payloads:a})).signed_payloads.map(z).map(d=>({signedMessage:d,signature:d.slice(-zi)}))}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Pn.set(this,(...t)=>p(this,void 0,void 0,function*(){let n=[];if(t.length>1)for(let i of t)n.push(yield l(this,Nt,"f").call(this,i));else return[yield l(this,Nt,"f").call(this,t[0])];return n})),Nt.set(this,t=>p(this,void 0,void 0,function*(){var n,i,r;m(this,ne,!0,"f");try{let a=yield l(this,Rt,"f").call(this,Object.assign(Object.assign({},t),{domain:(n=t?.domain)!==null&&n!==void 0?n:window.location.host}));if(!a.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");let s=a.sign_in_result.address,c=a.accounts.find(d=>d.address==s);return{account:Object.assign(Object.assign({},c??{address:Te.default.encode(z(s))}),{publicKey:z(s),chains:(i=c?.chains)!==null&&i!==void 0?i:l(this,ue,"f"),features:(r=c?.features)!==null&&r!==void 0?r:a.capabilities.features}),signedMessage:z(a.sign_in_result.signed_message),signature:z(a.sign_in_result.signature)}}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}finally{m(this,ne,!1,"f")}})),m(this,Y,e.authorizationCache,"f"),m(this,He,e.appIdentity,"f"),m(this,ue,e.chains,"f"),m(this,vt,e.chainSelector,"f"),m(this,St,e.onWalletNotFound,"f"),m(this,$e,{[Q]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:l(this,It,"f")},[J]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:l(this,Ot,"f")}},"f")}get version(){return l(this,Tn,"f")}get name(){return l(this,In,"f")}get url(){return l(this,On,"f")}get icon(){return l(this,Nn,"f")}get chains(){return l(this,ue,"f")}get features(){return Object.assign({[Sn]:{version:"1.0.0",connect:l(this,xn,"f")},[An]:{version:"1.0.0",disconnect:l(this,Ct,"f")},[Rn]:{version:"1.0.0",on:l(this,Wn,"f")},[it]:{version:"1.0.0",signMessage:l(this,Bn,"f")},[ot]:{version:"1.0.0",signIn:l(this,Pn,"f")}},l(this,$e,"f"))}get accounts(){var e,t;return(t=(e=l(this,B,"f"))===null||e===void 0?void 0:e.accounts)!==null&&t!==void 0?t:[]}get connected(){return!!l(this,B,"f")}get isAuthorized(){return!!l(this,B,"f")}get currentAuthorization(){return l(this,B,"f")}get cachedAuthorizationResult(){return l(this,Y,"f").get()}};fe=new WeakMap,Tn=new WeakMap,In=new WeakMap,On=new WeakMap,Nn=new WeakMap,He=new WeakMap,B=new WeakMap,Y=new WeakMap,ne=new WeakMap,ve=new WeakMap,ue=new WeakMap,vt=new WeakMap,$e=new WeakMap,St=new WeakMap,Wn=new WeakMap,xn=new WeakMap,Rt=new WeakMap,Se=new WeakMap,Mt=new WeakMap,Ge=new WeakMap,Ct=new WeakMap,Ae=new WeakMap,Ye=new WeakMap,Tt=new WeakMap,Ln=new WeakMap,Dn=new WeakMap,It=new WeakMap,Ot=new WeakMap,Bn=new WeakMap,Pn=new WeakMap,Nt=new WeakMap,be=new WeakSet,At=function(e,...t){var n;(n=l(this,fe,"f")[e])===null||n===void 0||n.forEach(i=>i.apply(null,t))},Bi=function(e,t){var n;l(this,fe,"f")[e]=(n=l(this,fe,"f")[e])===null||n===void 0?void 0:n.filter(i=>t!==i)};var Qn=class{constructor(e){Re.add(this),ge.set(this,{}),zn.set(this,"1.0.0"),Un.set(this,Fa),kn.set(this,"https://solanamobile.com/wallets"),Fn.set(this,Di),Qe.set(this,void 0),P.set(this,void 0),oe.set(this,void 0),ie.set(this,!1),Me.set(this,0),he.set(this,[]),Wt.set(this,void 0),Je.set(this,void 0),xt.set(this,void 0),Lt.set(this,void 0),q.set(this,void 0),jn.set(this,(t,n)=>{var i;return!((i=l(this,ge,"f")[t])===null||i===void 0)&&i.push(n)||(l(this,ge,"f")[t]=[n]),()=>l(this,Re,"m",Pi).call(this,t,n)}),qn.set(this,({silent:t}={})=>p(this,void 0,void 0,function*(){if(l(this,ie,"f")||this.connected)return{accounts:this.accounts};m(this,ie,!0,"f");try{yield l(this,Bt,"f").call(this)}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}finally{m(this,ie,!1,"f")}return{accounts:this.accounts}})),Bt.set(this,t=>p(this,void 0,void 0,function*(){try{let n=yield l(this,oe,"f").get();if(n)return l(this,Ze,"f").call(this,n),n;l(this,q,"f")&&m(this,q,void 0,"f");let i=yield l(this,Wt,"f").select(l(this,he,"f"));return yield l(this,Ce,"f").call(this,r=>p(this,void 0,void 0,function*(){let[a,s]=yield Promise.all([r.getCapabilities(),r.authorize({chain:i,identity:l(this,Qe,"f"),sign_in_payload:t})]),c=l(this,zt,"f").call(this,s.accounts),d=Object.assign(Object.assign({},s),{accounts:c,chain:i,capabilities:a});return Promise.all([l(this,Kn,"f").call(this,a),l(this,oe,"f").set(d),l(this,Ze,"f").call(this,d)]),d}))}catch(n){throw new Error(n instanceof Error&&n.message||"Unknown error")}})),Ze.set(this,t=>p(this,void 0,void 0,function*(){var n;let i=l(this,P,"f")==null||((n=l(this,P,"f"))===null||n===void 0?void 0:n.accounts.length)!==t.accounts.length||l(this,P,"f").accounts.some((r,a)=>r.address!==t.accounts[a].address);m(this,P,t,"f"),i&&l(this,Re,"m",Dt).call(this,"change",{accounts:this.accounts})})),Kn.set(this,t=>p(this,void 0,void 0,function*(){let n=t.features.includes("solana:signTransactions"),i=t.supports_sign_and_send_transactions||t.features.includes("solana:signAndSendTransaction"),r=Q in this.features!==i||J in this.features!==n;m(this,Je,Object.assign(Object.assign({},i&&{[Q]:{version:"1.0.0",supportedTransactionVersions:t.supported_transaction_versions,signAndSendTransaction:l(this,Ut,"f")}}),n&&{[J]:{version:"1.0.0",supportedTransactionVersions:t.supported_transaction_versions,signTransaction:l(this,kt,"f")}}),"f"),r&&l(this,Re,"m",Dt).call(this,"change",{features:this.features})})),Xe.set(this,(t,n,i)=>p(this,void 0,void 0,function*(){var r,a;try{let[s,c]=yield Promise.all([(a=(r=l(this,P,"f"))===null||r===void 0?void 0:r.capabilities)!==null&&a!==void 0?a:yield t.getCapabilities(),t.authorize({auth_token:n,identity:l(this,Qe,"f"),chain:i})]),d=l(this,zt,"f").call(this,c.accounts),u=Object.assign(Object.assign({},c),{accounts:d,chain:i,capabilities:s});Promise.all([l(this,oe,"f").set(u),l(this,Ze,"f").call(this,u)])}catch(s){throw l(this,Pt,"f").call(this),new Error(s instanceof Error&&s.message||"Unknown error")}})),Pt.set(this,()=>p(this,void 0,void 0,function*(){var t,n;(t=l(this,q,"f"))===null||t===void 0||t.close(),l(this,oe,"f").clear(),m(this,ie,!1,"f"),m(this,Me,(n=l(this,Me,"f"),n++,n),"f"),m(this,P,void 0,"f"),m(this,q,void 0,"f"),l(this,Re,"m",Dt).call(this,"change",{accounts:this.accounts})})),Ce.set(this,t=>p(this,void 0,void 0,function*(){var n;let i=(n=l(this,P,"f"))===null||n===void 0?void 0:n.wallet_uri_base,a=Object.assign(Object.assign({},i?{baseUri:i}:void 0),{remoteHostAuthority:l(this,Lt,"f")}),s=l(this,Me,"f"),c=new Cn;if(l(this,q,"f"))return t(l(this,q,"f").wallet);try{let{associationUrl:d,close:u,wallet:w}=yield Ri(a),h=c.addEventListener("close",f=>{f&&u()});return c.initWithQR(d.toString()),c.open(),m(this,q,{close:u,wallet:yield w},"f"),h(),c.close(),yield t(l(this,q,"f").wallet)}catch(d){throw c.close(),l(this,Me,"f")!==s&&(yield new Promise(()=>{})),d instanceof Error&&d.name==="SolanaMobileWalletAdapterError"&&d.code==="ERROR_WALLET_NOT_FOUND"&&(yield l(this,xt,"f").call(this,this)),d}})),et.set(this,()=>{if(!l(this,P,"f"))throw new Error("Wallet not connected");return{authToken:l(this,P,"f").auth_token,chain:l(this,P,"f").chain}}),zt.set(this,t=>t.map(n=>{var i,r;let a=z(n.address);return{address:Te.default.encode(a),publicKey:a,label:n.label,icon:n.icon,chains:(i=n.chains)!==null&&i!==void 0?i:l(this,he,"f"),features:(r=n.features)!==null&&r!==void 0?r:Ui}})),Vn.set(this,t=>p(this,void 0,void 0,function*(){let{authToken:n,chain:i}=l(this,et,"f").call(this);try{return yield l(this,Ce,"f").call(this,r=>p(this,void 0,void 0,function*(){return yield l(this,Xe,"f").call(this,r,n,i),(yield r.signTransactions({payloads:t.map(re)})).signed_payloads.map(z)}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),Hn.set(this,(t,n)=>p(this,void 0,void 0,function*(){let{authToken:i,chain:r}=l(this,et,"f").call(this);try{return yield l(this,Ce,"f").call(this,a=>p(this,void 0,void 0,function*(){let[s,c]=yield Promise.all([a.getCapabilities(),l(this,Xe,"f").call(this,a,i,r)]);if(s.supports_sign_and_send_transactions)return(yield a.signAndSendTransactions(Object.assign(Object.assign({},n),{payloads:[re(t)]}))).signatures.map(z)[0];throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Ut.set(this,(...t)=>p(this,void 0,void 0,function*(){let n=[];for(let i of t){let r=yield l(this,Hn,"f").call(this,i.transaction,i.options);n.push({signature:r})}return n})),kt.set(this,(...t)=>p(this,void 0,void 0,function*(){return(yield l(this,Vn,"f").call(this,t.map(({transaction:n})=>n))).map(n=>({signedTransaction:n}))})),$n.set(this,(...t)=>p(this,void 0,void 0,function*(){let{authToken:n,chain:i}=l(this,et,"f").call(this),r=t.map(({account:s})=>re(s.publicKey)),a=t.map(({message:s})=>re(s));try{return yield l(this,Ce,"f").call(this,s=>p(this,void 0,void 0,function*(){return yield l(this,Xe,"f").call(this,s,n,i),(yield s.signMessages({addresses:r,payloads:a})).signed_payloads.map(z).map(d=>({signedMessage:d,signature:d.slice(-zi)}))}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),Gn.set(this,(...t)=>p(this,void 0,void 0,function*(){let n=[];if(t.length>1)for(let i of t)n.push(yield l(this,Ft,"f").call(this,i));else return[yield l(this,Ft,"f").call(this,t[0])];return n})),Ft.set(this,t=>p(this,void 0,void 0,function*(){var n,i,r;m(this,ie,!0,"f");try{let a=yield l(this,Bt,"f").call(this,Object.assign(Object.assign({},t),{domain:(n=t?.domain)!==null&&n!==void 0?n:window.location.host}));if(!a.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");let s=a.sign_in_result.address,c=a.accounts.find(d=>d.address==s);return{account:Object.assign(Object.assign({},c??{address:Te.default.encode(z(s))}),{publicKey:z(s),chains:(i=c?.chains)!==null&&i!==void 0?i:l(this,he,"f"),features:(r=c?.features)!==null&&r!==void 0?r:a.capabilities.features}),signedMessage:z(a.sign_in_result.signed_message),signature:z(a.sign_in_result.signature)}}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}finally{m(this,ie,!1,"f")}})),m(this,oe,e.authorizationCache,"f"),m(this,Qe,e.appIdentity,"f"),m(this,he,e.chains,"f"),m(this,Wt,e.chainSelector,"f"),m(this,Lt,e.remoteHostAuthority,"f"),m(this,xt,e.onWalletNotFound,"f"),m(this,Je,{[Q]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:l(this,Ut,"f")},[J]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:l(this,kt,"f")}},"f")}get version(){return l(this,zn,"f")}get name(){return l(this,Un,"f")}get url(){return l(this,kn,"f")}get icon(){return l(this,Fn,"f")}get chains(){return l(this,he,"f")}get features(){return Object.assign({[Sn]:{version:"1.0.0",connect:l(this,qn,"f")},[An]:{version:"1.0.0",disconnect:l(this,Pt,"f")},[Rn]:{version:"1.0.0",on:l(this,jn,"f")},[it]:{version:"1.0.0",signMessage:l(this,$n,"f")},[ot]:{version:"1.0.0",signIn:l(this,Gn,"f")}},l(this,Je,"f"))}get accounts(){var e,t;return(t=(e=l(this,P,"f"))===null||e===void 0?void 0:e.accounts)!==null&&t!==void 0?t:[]}get connected(){return!!l(this,q,"f")&&!!l(this,P,"f")}get isAuthorized(){return!!l(this,P,"f")}get currentAuthorization(){return l(this,P,"f")}get cachedAuthorizationResult(){return l(this,oe,"f").get()}};ge=new WeakMap,zn=new WeakMap,Un=new WeakMap,kn=new WeakMap,Fn=new WeakMap,Qe=new WeakMap,P=new WeakMap,oe=new WeakMap,ie=new WeakMap,Me=new WeakMap,he=new WeakMap,Wt=new WeakMap,Je=new WeakMap,xt=new WeakMap,Lt=new WeakMap,q=new WeakMap,jn=new WeakMap,qn=new WeakMap,Bt=new WeakMap,Ze=new WeakMap,Kn=new WeakMap,Xe=new WeakMap,Pt=new WeakMap,Ce=new WeakMap,et=new WeakMap,zt=new WeakMap,Vn=new WeakMap,Hn=new WeakMap,Ut=new WeakMap,kt=new WeakMap,$n=new WeakMap,Gn=new WeakMap,Ft=new WeakMap,Re=new WeakSet,Dt=function(e,...t){var n;(n=l(this,ge,"f")[e])===null||n===void 0||n.forEach(i=>i.apply(null,t))},Pi=function(e,t){var n;l(this,ge,"f")[e]=(n=l(this,ge,"f")[e])===null||n===void 0?void 0:n.filter(i=>t!==i)};var ja=function(o,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?o!==e||!i:!e.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(o,t):i?i.value=t:e.set(o,t),t},qa=function(o,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!n:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(o):n?n.value:e.get(o)},jt;function Oi(o){let e=({register:t})=>t(o);try{window.dispatchEvent(new Jn(e))}catch(t){console.error(`wallet-standard:register-wallet event could not be dispatched
`,t)}try{window.addEventListener("wallet-standard:app-ready",({detail:t})=>e(t))}catch(t){console.error(`wallet-standard:app-ready event listener could not be added
`,t)}}var Jn=class extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),jt.set(this,void 0),ja(this,jt,e,"f")}get detail(){return qa(this,jt,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};jt=new WeakMap;function Ka(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}function Va(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function Ha(o){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(o)}function ki(o){if(typeof window>"u"){console.warn("MWA not registered: no window object");return}if(!window.isSecureContext){console.warn("MWA not registered: secure context required (https)");return}Ka()&&!Ha(navigator.userAgent)?Oi(new Yn(o)):Va()&&o.remoteHostAuthority!==void 0&&Oi(new Qn(Object.assign(Object.assign({},o),{remoteHostAuthority:o.remoteHostAuthority})))}var $a="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",Ga="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.",Zn=class extends qt{constructor(){super(...arguments),this.contentStyles=Qa,this.contentHtml=Ya}initWithError(e){super.init(),this.populateError(e)}populateError(e){var t,n;let i=(t=this.dom)===null||t===void 0?void 0:t.getElementById("mobile-wallet-adapter-error-message"),r=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-action");if(i){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=$a,r&&r.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=Ga,r&&(r.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}},Ya=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,Qa=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function Ja(){return p(this,void 0,void 0,function*(){if(typeof window<"u"){let o=window.navigator.userAgent.toLowerCase(),e=new Zn;o.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}function Fi(){return()=>p(this,void 0,void 0,function*(){Ja()})}var Mn="SolanaMobileWalletAdapterDefaultAuthorizationCache";function ji(){let o;try{o=window.localStorage}catch{}return{clear(){return p(this,void 0,void 0,function*(){if(o)try{o.removeItem(Mn)}catch{}})},get(){return p(this,void 0,void 0,function*(){if(o)try{let e=JSON.parse(o.getItem(Mn));if(e&&e.accounts){let t=e.accounts.map(n=>Object.assign(Object.assign({},n),{publicKey:"publicKey"in n?new Uint8Array(Object.values(n.publicKey)):Te.default.decode(n.address)}));return Object.assign(Object.assign({},e),{accounts:t})}else return e||void 0}catch{}})},set(e){return p(this,void 0,void 0,function*(){if(o)try{o.setItem(Mn,JSON.stringify(e))}catch{}})}}}function qi(){return{select(o){return p(this,void 0,void 0,function*(){return o.length===1?o[0]:o.includes(_n)?_n:o[0]})}}}var Za=function(o,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!n:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(o):n?n.value:e.get(o)},Xa=function(o,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?o!==e||!i:!e.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(o,t):i?i.value=t:e.set(o,t),t},Kt,tt,Vt=new Set;function es(o){nt=void 0,Vt.add(o)}function ts(o){nt=void 0,Vt.delete(o)}var Ie={};function Hi(){if(tt||(tt=Object.freeze({register:Ki,get:ns,on:os}),typeof window>"u"))return tt;let o=Object.freeze({register:Ki});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(o))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Xn(o))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return tt}function Ki(...o){return o=o.filter(e=>!Vt.has(e)),o.length?(o.forEach(e=>es(e)),Ie.register?.forEach(e=>Vi(()=>e(...o))),function(){o.forEach(t=>ts(t)),Ie.unregister?.forEach(t=>Vi(()=>t(...o)))}):()=>{}}var nt;function ns(){return nt||(nt=[...Vt]),nt}function os(o,e){return Ie[o]?.push(e)||(Ie[o]=[e]),function(){Ie[o]=Ie[o]?.filter(n=>e!==n)}}function Vi(o){try{o()}catch(e){console.error(e)}}var Xn=class extends Event{get detail(){return Za(this,Kt,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Kt.set(this,void 0),Xa(this,Kt,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};Kt=new WeakMap;var $i=typeof location<"u"?location.origin:"https://snake-web-phi.vercel.app",is="Snake - Solana",rs=$i+"/icons/icon.svg",K={ready:!1,connectedWallet:null,connectedAccount:null,connect:null,disconnect:null};function as(){try{ki({appIdentity:{name:is,uri:$i,icon:rs},authorizationCache:ji(),chains:["solana:devnet","solana:mainnet"],chainSelector:qi(),onWalletNotFound:Fi()});let o=Hi();K.connect=async function(){let e=o.get();console.log("[MWA] All wallets:",e.map(d=>({name:d.name,chains:d.chains})));let t=e.filter(d=>d.chains&&d.chains.some(u=>u.startsWith("solana:")));if(console.log("[MWA] Solana wallets:",t.map(d=>d.name)),t.length===0)throw new Error("No Solana wallet found. On Seeker, use the built-in wallet or install a wallet app.");let n=t.find(d=>d.name==="Mobile Wallet Adapter");console.log("[MWA] MWA wallet found:",!!n);let i=n||t[0];console.log("[MWA] Using wallet:",i.name);let r=i.features["standard:connect"];if(!r||!r.connect)throw new Error("Wallet does not support connect.");let a=await r.connect({silent:!1}),s=a&&a.accounts;if(!s||s.length===0)throw new Error("No account selected.");let c=s[0];return K.connectedWallet=i,K.connectedAccount=c,c.address},K.disconnect=async function(){let e=K.connectedWallet;if(e){let t=e.features&&e.features["standard:disconnect"];t&&t.disconnect&&await t.disconnect(),K.connectedWallet=null,K.connectedAccount=null}},K.ready=!0,console.log("[MWA] Mobile Wallet Adapter initialized successfully")}catch(o){console.error("[MWA] Mobile Wallet Adapter not loaded:",o),K.ready=!1}}as();window.__snakeWalletAdapter=K;console.log("[MWA] Adapter exposed on window.__snakeWalletAdapter, ready:",K.ready);})();
